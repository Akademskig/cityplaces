{"version":3,"sources":["serviceWorker.js","config/index.js","styles/map-styles.js","components/GoogleMapComponent.js","services/config.js","services/places.js","services/notifications.js","components/Cards.js","components/PlacesList.js","containers/CurrentLocation.js","services/login.js","components/Navigation.js","containers/App.js","containers/OtherLocations.js","containers/LoginPage.js","containers/savedPlaces.js","routes.js","components/ErrorHandler.js","index.js"],"names":["Boolean","window","location","hostname","match","googleApi","mapStyles","elementType","stylers","color","featureType","visibility","GoogleMapComponent","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","pIds","state","places","props","placesIds","input","document","getElementById","currentInfoShow","marker","e","currentInfoVisible","currentMarker","setState","name","fetchPlaces","mapProps","map","markerCenter","newCenter","google","maps","LatLng","center","lat","lng","requestPlaces","service","PlacesService","query","radius","keyword","rankBy","RankBy","DISTANCE","nearbySearch","data","forEach","d","includes","id","createMarker","push","requestDetails","placeId","place_id","fields","getDetails","det","opening_hours","url","getPlaces","prepareMap","controls","ControlPosition","TOP_RIGHT","closeButton","closeMap","prepareAutocomplete","currentPosition","prepareMarkers","p","autocomplete","Autocomplete","types","bindTo","infowindow","InfoWindow","infowindowContent","setContent","event","addListener","close","place","getPlace","geometry","autoPlace","setNewLoc","formatted_address","componentDidUpdate","visible","inherits","createClass","key","value","_createMarker","asyncToGenerator","regenerator_default","a","mark","_callee","position","draggable","_this2","wrap","_context","prev","next","type","Marker","icon","scaledSize","Size","infoContent","currentLocContent","open","latLng","stop","_x","_x2","_x3","react_default","createElement","dist","zoom","initialCenter","onReady","styles","Component","controlBtn","content","classList","style","margin","padding","backgroundColor","borderRadius","appendChild","addEventListener","text","src","photos","photoreference","photo_reference","getUrl","openingHours","weekday_text","wdt","join","vicinity","Config","protocol","host","PlacesApi","placesUrl","googleApiNearby","googleApiDetails","reset","navigator","geolocation","Promise","resolve","reject","getCurrentPosition","_ref","latitude","coords","longitude","getByCurrentLocation","sent","err","enableHighAccuracy","timeout","axios","get","dataType","results","post","userId","delete","notify","msg","title","callback","NotificationManager","info","success","warning","error","Cards","colors","pages","setCardNums","innerWidth","items","savePlace","pid","savedPlaces","placesApi","user_id","localStorage","getItem","then","target","disabled","removePlace","updatePlaces","activePage","Math","ceil","placesListCount","parseInt","itemsPerPage","paginate","list","offset","start","end","slice","componentWillMount","ev","getPlacesForUser","res","placesList","handlePageChange","handleItemsPerPageChange","removeEventListener","nextProps","totalPages","marginBottom","Pagination","onPageChange","bind","Grid","columns","GridColumn","Label","size","textAlign","Input","label","min","max","onChange","float","Cards_CardList","assign","CurrentStatus","hasOwnProperty","opened","SaveOrRemoveBut","Button","compact","saveButtonColor","onClick","CardList","Card","Group","itemsPerRow","_","openedNow","open_now","Content","Header","Column","width","Image","height","verticalAlign","Meta","Icon","rating","Segment","vertical","basic","paddingBottom","Description","Cards_CurrentStatus","showMap","className","imageSize","overflow","rounded","Cards_SaveOrRemoveBut","PlacesList","mapVisible","loc","componentType","hidden","components_GoogleMapComponent","resetMap","loading","Cards_Cards","userPlaces","CurrentLocation","getFormData","getPosition","gma","catch","message","getPlacesFromMap","filteredPlaces","loadingPlaces","handleSearch","filter","pl","toLowerCase","CurrentLocation_CurrentPositionView","resetPosition","CurrentLocation_SearchCurrentForm","onSearch","PlacesList_PlacesList","CurrentPositionView","preventDefault","opacity","SearchCurrentForm","_this3","handlePlaceChange","handleRadiusChange","handleSubmit","Form","onSubmit","widths","Field","iconPosition","placeholder","step","labelPosition","floated","LoginService","tokenPrefix","userCredentials","setItem","user","_id","username","token","Navigation","loginService","Menu","attached","Dropdown","item","Item","as","Link","to","App","Container","components_Navigation","routes","lib","OtherLocations","newPlace","onKeyword","OtherLocations_OtherLocationsView","OtherLocations_SearchOtherForm","findPlaces","SearchOtherForm","city","handleCityChange","ref","OtherLocationsView","containers_LoginPage","LoginPage","buttonColorCreateNew","buttonColorSignIn","login","password","signIn","history","console","log","response","createUser","selectSignIn","selectLogIn","clear","marginTop","Divider","LoginPage_LoginForm","LoginForm","passInputType","handleUserChange","handlePasswordChange","changePassType","SavedPlaces","citiesList","filteredCities","filterCities","$e","$e2","fp","flag","i","address_components","find","ac","long_name","country","uniqBy","savedPlaces_SearchBar","SearchBar","Select","marginRight","options","authGuard","containers_App","Redirect","GoogleApiWrapper","apiKey","Switch","Route","path","render","containers_CurrentLocation","containers_OtherLocations","savedPlaces_SavedPlaces","ErrorHandler","errorInfo","whiteSpace","toString","componentStack","children","ReactDOM","ErrorHandler_ErrorHandler","BrowserRouter","exact","component","serviceWorker","ready","registration","unregister"],"mappings":"gOAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,mOClBSC,EAEG,qDAFHA,EAGE,oDAHFA,EAKD,kDCLCC,EAAY,CACrB,CACIC,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIF,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIF,YAAe,qBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,iBACfH,YAAe,kBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,6BACfH,YAAe,kBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,6BACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,oBACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,MACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,MACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,WACfH,YAAe,gBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,WACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,OACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,gBACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,gBACfH,YAAe,SACfC,QAAW,CACP,CACIG,WAAc,SAI1B,CACID,YAAe,eACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,eACfH,YAAe,kBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,eACfH,YAAe,SACfC,QAAW,CACP,CACIG,WAAc,SAI1B,CACID,YAAe,iCACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,iCACfH,YAAe,kBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,aACfF,QAAW,CACP,CACIG,WAAc,SAI1B,CACID,YAAe,aACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,eACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,eACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,eACfH,YAAe,qBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,kBACfH,YAAe,WACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,QACfH,YAAe,gBACfC,QAAW,CACP,CACIC,MAAS,aAIrB,CACIC,YAAe,QACfH,YAAe,mBACfC,QAAW,CACP,CACIC,MAAS,cCvOZG,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAJ,IAAAe,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MACIQ,KAAO,GADXf,EAEIgB,MAAQ,CACJC,OAAQjB,EAAKkB,MAAMD,OACnBE,UAAW,IAJnBnB,EAOIoB,MAAQC,SAASC,eAAe,mBAPpCtB,EAQIuB,gBAAkB,SAACL,EAAOM,EAAQC,GAC1BzB,EAAKgB,MAAMU,oBAAsBF,IAAWxB,EAAKgB,MAAMW,cACvD3B,EAAK4B,SAAS,CAAEF,oBAAoB,IAEpC1B,EAAK4B,SAAS,CACVF,oBAAoB,EACpBC,cAAeH,EACfK,KAAMX,EAAMW,QAf5B7B,EAmBI8B,YAAc,SAACC,EAAUC,EAAKC,GAC1B,IAAIC,EAAY,IAAIlC,EAAKkB,MAAMiB,OAAOC,KAAKC,OAAOL,EAAIM,OAAOC,MAAOP,EAAIM,OAAOE,OAE3EP,IACAC,EAAY,IAAIlC,EAAKkB,MAAMiB,OAAOC,KAAKC,OAAOJ,EAAaM,IAAKN,EAAaO,MAEjFxC,EAAK4B,SAAS,CACVU,OAAQJ,IAEZ,IACIO,EADEC,EAAU,IAAI1C,EAAKkB,MAAMiB,OAAOC,KAAKnB,OAAO0B,cAAcX,GAG5DS,EADAzC,EAAKkB,MAAM0B,OAAS5C,EAAKkB,MAAM0B,MAAMC,OACrB,CACZ1D,SAAUa,EAAKgB,MAAMsB,OACrBO,OAAQ7C,EAAKkB,MAAM0B,MAAMC,OACzBC,QAAS9C,EAAKkB,MAAM0B,MAAME,SAId,CACZ3D,SAAUa,EAAKgB,MAAMsB,OACrBS,OAAQ/C,EAAKkB,MAAMiB,OAAOC,KAAKnB,OAAO+B,OAAOC,SAC7CH,QAAS9C,EAAKkB,MAAM0B,MAAME,SAyBlCJ,EAAQQ,aAAaT,EArBE,SAACU,GACpBA,EAAKC,QAAQ,SAAAC,GACJrD,EAAKgB,MAAMG,UAAUmC,SAASD,EAAEE,KACjCvD,EAAKwD,aAAaH,EAAG,KAAMrB,GAC/BhC,EAAKe,KAAK0C,KAAKJ,EAAEE,IACjB,IAAIG,EAAiB,CACjBC,QAASN,EAAEO,SACXC,OAAQ,CAAC,sBAEbnB,EAAQoB,WAAWJ,EAAgB,SAACK,GAChCV,EAAC,cAAoBU,EAAMA,EAAIC,cAAgBD,EAC/CV,EAAC,IAAUU,EAAMA,EAAIE,IAAMF,MAGnC/D,EAAK4B,SAAS,CACVX,OAAQkC,EACRhC,UAAWnB,EAAKe,OAGpBf,EAAKkB,MAAMgD,UAAUlE,EAAKgB,MAAMC,WAhE5CjB,EAkGImE,WAAa,SAACpC,EAAUC,GACpBhC,EAAKgC,IAAMA,EACXhC,EAAK4B,SAAS,CACVX,OAAQjB,EAAKkB,MAAMD,SAEvBe,EAAIoC,SAASpE,EAAKkB,MAAMiB,OAAOC,KAAKiC,gBAAgBC,WAAWb,KAAKc,EAAYvE,EAAKkB,MAAMsD,WAC3FxE,EAAKyE,oBAAoBzC,GACzBhC,EAAKwD,aAAa,KAAMxD,EAAKkB,MAAMwD,gBAAiB1C,IAzG5DhC,EA4GI2E,eAAiB,SAAC3C,GACVhC,EAAKgB,MAAMC,OACXjB,EAAKgB,MAAMC,OAAOmC,QAAQ,SAAAwB,GACtB5E,EAAKwD,aAAaoB,EAAG,KAAM5C,KAG/BhC,EAAKkB,MAAMD,OAAOmC,QAAQ,SAAAwB,GACtB5E,EAAKwD,aAAaoB,EAAG,KAAM5C,KAGnChC,EAAKe,KAAO,IAtHpBf,EAwHIyE,oBAAsB,SAACzC,GAEnB,IAAIZ,EAAQC,SAASC,eAAe,mBACpC,GAAKF,EAAL,CAEA,IAAIyD,GAEJA,EAAe,IAAI7E,EAAKkB,MAAMiB,OAAOC,KAAKnB,OAAO6D,aAAa1D,EAAO,CAAE2D,MAAO,CAAC,eAClEC,OAAO,SAAUhD,GAC9B,IAAIiD,EAAa,IAAIjF,EAAKkB,MAAMiB,OAAOC,KAAK8C,WACxCC,EAAoB9D,SAASC,eAAe,sBAChD2D,EAAWG,WAAWD,GACtBnF,EAAKkB,MAAMiB,OAAOC,KAAKiD,MAAMC,YAAYT,EAAc,gBAAiB,WACpEI,EAAWM,QACX,IAAIC,EAAQX,EAAaY,WACpBD,EAAME,WAGX1F,EAAK4B,SAAS,CAAE+D,UAAW,CAAEpD,IAAKiD,EAAME,SAASvG,SAASoD,MAAOC,IAAKgD,EAAME,SAASvG,SAASqD,SAC9FxC,EAAKkB,MAAM0E,UAAU5F,EAAKgB,MAAM2E,UAAWH,EAAMK,wBA3I7D7F,EAgJI8F,mBAAqB,WACb9F,EAAKkB,MAAM6E,SACX/F,EAAK2E,eAAe3E,EAAKgC,MAlJrChC,EAAA,OAAAC,OAAA+F,EAAA,EAAA/F,CAAAJ,EAAAC,GAAAG,OAAAgG,EAAA,EAAAhG,CAAAJ,EAAA,EAAAqG,IAAA,eAAAC,MAAA,eAAAC,EAAAnG,OAAAoG,EAAA,EAAApG,CAAAqG,EAAAC,EAAAC,KAAA,SAAAC,EAqEuBjB,EAAOkB,EAAU1E,GArExC,IAAA7C,EAAAwH,EAAAnF,EAAAyD,EAAA2B,EAAAzG,KAAA,OAAAmG,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAuEYxB,IACArG,EAAW,CAAEoD,IAAKiD,EAAME,SAASvG,SAASoD,IAAKC,IAAKgD,EAAME,SAASvG,SAASqD,KAClC,mBAA/BgD,EAAME,SAASvG,SAASoD,MAC/BpD,EAAW,CAAEoD,IAAKiD,EAAME,SAASvG,SAASoD,MAAOC,IAAKgD,EAAME,SAASvG,SAASqD,SAElFmE,GAAY,EACZD,IAAavG,KAAKe,MAAM+F,OACxBN,GAAY,GACZnF,EAAS,IAAItC,OAAOiD,OAAOC,KAAK8E,OAAO,CACvClF,IAAKA,EACL0E,SAAUA,GAAYvH,EACtBwH,UAAWA,EACXQ,KAAM3B,EAAQ,CACVvB,IAAKuB,EAAM2B,KAAMC,WAAY5B,EAAMjC,KAAOpD,KAAKe,MAAMoB,OAAOkD,MAAMjC,GAC9D,IAAIpD,KAAKe,MAAMiB,OAAOC,KAAKiF,KAAK,GAAI,IAAM,IAAIlH,KAAKe,MAAMiB,OAAOC,KAAKiF,KAAK,GAAI,KAClF,OAEJpC,EAAa,IAAI/F,OAAOiD,OAAOC,KAAK8C,WACxChG,OAAOiD,OAAOC,KAAKiD,MAAMC,YAAY9D,EAAQ,QAAS,WAClDyD,EAAWG,WAAWI,EAAQ8B,EAAY9B,GAAS+B,EAAkB,iBACrEtC,EAAWuC,KAAKxF,EAAK7B,QAEzBjB,OAAOiD,OAAOC,KAAKiD,MAAMC,YAAY9D,EAAQ,UAAW,SAACC,GACrDmF,EAAK9E,YAAY,KAAME,EAAK,CAAEO,IAAKd,EAAEgG,OAAOlF,MAAOC,IAAKf,EAAEgG,OAAOjF,UA9F7E,wBAAAsE,EAAAY,SAAAjB,EAAAtG,SAAA,gBAAAwH,EAAAC,EAAAC,GAAA,OAAAzB,EAAAvF,MAAAV,KAAAE,YAAA,KAAA6F,IAAA,SAAAC,MAAA,WAuJQ,OAAIhG,KAAKe,MAAMqE,MACJuC,EAAAvB,EAAAwB,cAAA,YAGPD,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAA,WAEID,EAAAvB,EAAAwB,cAAEC,EAAA,IAAF,CACI7F,OAAQhC,KAAKe,MAAMiB,OACnB8F,KAAM,GACNlC,QAAS5F,KAAKe,MAAM6E,QACpBmC,cAAe/H,KAAKe,MAAMoB,OAC1BA,OAAQnC,KAAKa,MAAMsB,QAAUnC,KAAKe,MAAMoB,OACxC6F,QAAShI,KAAKgE,WACdiE,OAAQ7I,UArKhCM,EAAA,CAAwCwI,aA8KlC9D,EAAc,SAACC,GACjB,IAAI8D,EAAajH,SAAS0G,cAAc,OACpCQ,EAAUlH,SAAS0G,cAAc,KAUrC,OATAQ,EAAQC,UAAY,4BACpBD,EAAQE,MAAM/I,MAAQ,QACtB4I,EAAWE,UAAY,qBACvBF,EAAWG,MAAMC,OAAS,OAC1BJ,EAAWG,MAAME,QAAU,OAC3BL,EAAWG,MAAMG,gBAAkB,QACnCN,EAAWG,MAAMI,aAAe,IAChCP,EAAWQ,YAAYP,GACvBD,EAAWS,iBAAiB,QAASvE,GAEjC8D,GAGFf,EAAoB,SAACyB,GACvB,0KAAAlI,OAE6CkI,EAF7C,+DAME1B,EAAc,SAAC9B,GACjB,IAAIyD,EACJ,GAAIzD,EAAM0D,OAAQ,CACd,IAAMC,EAAiB3D,EAAM0D,OAAO,GAAGE,gBAEnCH,EADAE,EACG,GAAArI,OAAMxB,EAAN,gCAAAwB,OAAwDqI,EAAxD,SAAArI,OAA8ExB,GAE3EkG,EAAM0D,OAAO,GAAGG,SAE9B,IAAIC,EAAe,wDAUnB,OATI9D,EAAMxB,eAAiBwB,EAAMxB,cAAcuF,cAC3C/D,EAAMxB,cAAcuF,aAAanG,QAAQ,SAAAoG,GACrCF,EAAa7F,KAAb,mCAAA3C,OAAqD0I,EAArD,aAEJF,EAAeA,EAAaG,KAAK,KAGjCH,EAAY,gCAEhB,4HAAAxI,OAE6C0E,EAAM3D,KAFnD,0JAAAf,OAK6D0E,EAAMkE,SALnE,8IAAA5I,OAOiDmI,EAPjD,gIAAAnI,OAU8BwI,EAV9B,uKAAAxI,OAasD0E,EAAMvB,IAb5D,+IAmBWpE,0EC/OM8J,EAEjB,SAAAA,IAAe1J,OAAAC,EAAA,EAAAD,CAAAE,KAAAwJ,GACXxJ,KAAK8D,IAAL,GAAAnD,OAAc5B,OAAOC,SAASyK,SAA9B,MAAA9I,OAA2C5B,OAAOC,SAAS0K,KAA3D,SCDaC,aAIjB,SAAAA,IAAe7J,OAAAC,EAAA,EAAAD,CAAAE,KAAA2J,GACX3J,KAAK8D,KAAM,IAAI0F,GAAS1F,IACxB9D,KAAK4J,UAAL,GAAAjJ,OAAoBX,KAAK8D,IAAzB,gBACA9D,KAAK6J,gBAAL,GAAAlJ,OAA0BX,KAAK8D,IAA/B,6BACA9D,KAAK8J,iBAAL,GAAAnJ,OAA2BX,KAAK8D,IAAhC,qIAGqBiG,iFAChBA,IAAS/J,KAAKhB,kDACRgB,KAAKhB,qBAEZgL,UAAUC,qDACH,IAAIC,QAAQ,SAACC,EAASC,GACzBJ,UAAUC,YAAYI,mBAAtB,eAAAC,EAAAxK,OAAAoG,EAAA,EAAApG,CAAAqG,EAAAC,EAAAC,KAAyC,SAAAC,EAAOC,GAAP,OAAAJ,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrChH,EAAK0K,SAAWhE,EAASiE,OAAOD,SAChC1K,EAAK4K,UAAYlE,EAASiE,OAAOC,UAFI9D,EAAAE,KAAA,EAGfhH,EAAK6K,uBAHU,OAGrC7K,EAAKb,SAHgC2H,EAAAgE,KAIrCR,EAAQ,CAAEnL,SAAUa,EAAKb,SAAUoD,IAAKvC,EAAK0K,SAAUlI,IAAKxC,EAAK4K,YAJ5B,wBAAA9D,EAAAY,SAAAjB,EAAAtG,SAAzC,gBAAAyH,GAAA,OAAA6C,EAAA5J,MAAAV,KAAAE,YAAA,GAMI,SAAC0K,GAAD,OAASR,EAAOQ,IAChB,CAAEC,oBAAoB,EAAMC,QAAS,kRAK3ChH,YAAS3E,oBAA8Ba,KAAKuK,qBAAYvK,KAAKyK,uDAA8CtL,YAC9F4L,IAAMC,IAAIlH,EAAK,CAC9BmH,SAAU,mCADRjI,2BAGCA,EAAKA,KAAKkI,QAAQ,GAAGxF,+LAGhBhD,EAAQC,EAASR,oFAEzBA,GACAC,EAAMD,EAAOC,IACbC,EAAMF,EAAOE,MAGbD,EAAMpC,KAAKuK,SACXlI,EAAMrC,KAAKyK,WAEX3G,YAAS9D,KAAK6J,gCAAuBzH,kBAAWC,sCAA+BM,kBAAexD,GAC9FuD,GAAUC,IACVmB,EAAG,GAAAnD,OAAMX,KAAK6J,gBAAX,SAAAlJ,OAAkCyB,EAAlC,SAAAzB,OAA6C0B,EAA7C,YAAA1B,OAA2D+B,EAA3D,aAAA/B,OAA6EgC,EAA7E,SAAAhC,OAA4FxB,sBAC5F4L,IAAMC,IAAIlH,EAAK,CAClBmH,SAAU,wMAGDzH,EAASE,gFAChBI,YAAS9D,KAAK8J,sCAA6BtG,qBAAkBE,YACtDqH,IAAMC,IAAIlH,EAAK,CACxBmH,SAAU,4OAGFjI,mFACN+H,IAAMI,KACRnL,KAAK4J,UACL5G,EACA,CACIiI,SAAU,oMAIJG,EAAQ5H,mFAChBuH,IAAMM,OAAN,GAAA1K,OAAgBX,KAAK4J,UAArB,KAAAjJ,OAAkCyK,EAAlC,KAAAzK,OAA4C6C,GAAW,CACzDyH,SAAU,2MAIKG,4FACZL,IAAMC,IAAN,GAAArK,OAAaX,KAAK4J,UAAlB,KAAAjJ,OAA+ByK,GAAU,CAAEH,SAAU,0IC5EvDK,EAAS,SAACxE,EAAMyE,EAAKC,EAAOV,EAASW,GAG9C,OAAQ3E,GACJ,IAAK,OACD4E,sBAAoBC,KAAKJ,EAAKC,GAAS,OAAQV,GAAW,IAAMW,GAAY,MAC5E,MACJ,IAAK,UACDC,sBAAoBE,QAAQL,EAAKC,GAAS,UAAWV,GAAW,IAAMW,GAAY,MAClF,MACJ,IAAK,UACDC,sBAAoBG,QAAQN,EAAKC,GAAS,WAAYV,GAAW,IAAMW,GAAY,MACnF,MACJ,IAAK,QACDC,sBAAoBI,MAAMP,EAAKC,GAAS,SAAUV,GAAW,IAAMW,GAAY,QCRtEM,cAEjB,SAAAA,EAAYhL,GAAO,IAAAlB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+L,IACflM,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAiM,GAAAtL,KAAAT,KAAMe,KAcViL,OAAS,CAAC,SAAU,SAAU,OAAQ,QAAS,OAf5BnM,EAgBnBoM,MAAQ,GAhBWpM,EAiBnBqM,YAAc,WACNnN,OAAOoN,WAAa,IACpBtM,EAAK4B,SAAS,CACV2K,MAAO,IAENrN,OAAOoN,WAAa,KACzBtM,EAAK4B,SAAS,CACV2K,MAAO,IAIXvM,EAAK4B,SAAS,CAAE2K,MAAO,KA5BZvM,EA+BnBwM,UAAY,SAACC,EAAKhL,GACd,IAAMiL,EAAc1M,EAAKgB,MAAM0L,YAC/B1M,EAAK2M,UAAUH,UAAU,CAAEI,QAASC,aAAaC,QAAQ,WAAYlJ,SAAU6I,IAC1EM,KAAK,kBAAMtB,EAAO,UAAW,kBAClCiB,EAAYjJ,KAAKgJ,GACjBzM,EAAK4B,SAAS,CACV8K,YAAaA,IAEjBjL,EAAEuL,OAAOC,UAAW,GAvCLjN,EA2CnBkN,YAAc,SAACT,EAAKhL,GAChBzB,EAAK2M,UAAUO,YAAYL,aAAaC,QAAQ,WAAYL,GACvDM,KAAK,kBAAMtB,EAAO,UAAW,oBAClCzL,EAAKkB,MAAMiM,aAAaV,GACpBzM,EAAKgB,MAAMoM,WAAaC,KAAKC,KAAKtN,EAAKuN,gBAAkBC,SAASxN,EAAKgB,MAAMyM,gBAC7EzN,EAAK4B,SAAS,CAAEwL,WAAYC,KAAKC,KAAKtN,EAAKuN,gBAAkBC,SAASxN,EAAKgB,MAAMyM,kBAhDtEzN,EAmDnB0N,SAAW,SAACC,EAAMP,EAAYQ,GAC1BA,EAASJ,SAASI,GAElB,IAAMC,GADNT,EAAaI,SAASJ,IACKQ,EAASA,EAC9BE,EAAMD,EAAQD,EAASD,EAAKrN,OAASqN,EAAKrN,OAASuN,EAAQD,EAEjE,OADgBD,EAAKI,MAAMF,EAAOC,IAxDnB9N,EA4DnBgO,mBAAqB,WACjBhO,EAAKqM,cACLnN,OAAO6J,iBAAiB,SAAU,SAACkF,GAC/BjO,EAAKqM,gBAETrM,EAAK2M,UAAUuB,iBAAiBrB,aAAaC,QAAQ,YAChDC,KAAK,SAAAoB,GACFA,EAAIhL,KAAKA,KAAKC,QAAQ,SAAAC,GAClBrD,EAAKgB,MAAM0L,YAAYjJ,KAAKJ,EAAEO,cAGlB,SAApB5D,EAAKkB,MAAM+F,MACXjH,EAAK4B,SAAS,CAAEwM,WAAYpO,EAAKgB,MAAM0L,eAxE5B1M,EA0EnBqO,iBAAmB,SAACzJ,EAAGnD,GACnBzB,EAAK4B,SAAS,CACVwL,WAAY3L,EAAE2L,cA5EHpN,EA+EnBsO,yBAA2B,SAAC7M,GACxBzB,EAAK4B,SAAS,CACV6L,aAAchM,EAAEuL,OAAO7G,QAEvBnG,EAAKgB,MAAMoM,WAAaC,KAAKC,KAAKtN,EAAKuN,gBAAkBC,SAAS/L,EAAEuL,OAAO7G,SAC3EnG,EAAK4B,SAAS,CAAEwL,WAAYC,KAAKC,KAAKtN,EAAKuN,gBAAkBC,SAAS/L,EAAEuL,OAAO7G,WAjFnFnG,EAAK2M,UAAY,IAAI7C,EACrB9J,EAAKgB,MAAQ,CACTuL,MAAO,EACPG,YAAa,GACb0B,WAAYpO,EAAKkB,MAAMkN,WACvBhC,MAAO,GACPgB,WAAY,EACZK,aAAc,GAVHzN,sFAuFI,IAAA4G,EAAAzG,KACnBjB,OAAOqP,oBAAoB,SAAU,SAACN,GAClCrH,EAAKyF,kEAIamC,GAClBA,EAAUJ,YACVI,EAAUJ,WAAW9N,OAASH,KAAKa,MAAMyM,cAAgB,GACzDtN,KAAKyB,SAAS,CAAEwL,WAAY,qCAKhC,OAAKjN,KAAKe,MAAMkN,YAA+C,IAAjCjO,KAAKe,MAAMkN,WAAW9N,QAKhDH,KAAKiM,MAAQjM,KAAKuN,SAASvN,KAAKe,MAAMkN,WAAYjO,KAAKa,MAAMoM,WAAYjN,KAAKa,MAAMyM,cACpFtN,KAAKoN,gBAAkBpN,KAAKe,MAAMkN,WAAW9N,OAC7CH,KAAKsO,WAAapB,KAAKC,KAAKnN,KAAKoN,gBAAkBpN,KAAKa,MAAMyM,cAE1D3F,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAA,OAAKU,MAAO,CAAEiG,aAAc,SACxB5G,EAAAvB,EAAAwB,cAAC4G,EAAA,EAAD,CACIvB,WAAYjN,KAAKa,MAAMoM,WACvBqB,WAAYtO,KAAKsO,WACjBG,aAAczO,KAAKkO,iBAAiBQ,KAAK1O,SAIjD2H,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,GACXjH,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,KACIlH,EAAAvB,EAAAwB,cAACkH,EAAA,EAAD,CAAOvP,MAAM,OAAOwP,KAAK,SAAzB,gBAAApO,OAAkDX,KAAKoN,mBAE3DzF,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,CAAYG,UAAU,SAClBrH,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACIvN,KAAK,OACLoF,KAAK,SACLoI,MAAO,CAAE9G,QAAS,YAAa7I,MAAO,QACtCyG,MAAOhG,KAAKa,MAAMyM,aAClB6B,IAAI,IACJC,IAAKpP,KAAKoN,gBACViC,SAAUrP,KAAKmO,yBACfmB,MAAM,YAOlB3H,EAAAvB,EAAAwB,cAAC2H,EAADzP,OAAA0P,OAAA,GAAcxP,KAAKe,MAAnB,CACIkL,MAAOjM,KAAKiM,MACZM,YAAavM,KAAKa,MAAM0L,YACxBF,UAAWrM,KAAKqM,UAChBU,YAAa/M,KAAK+M,YAClBX,MAAOpM,KAAKa,MAAMuL,WAxC1BzE,EAAAvB,EAAAwB,cAAA,OAAKU,MAAO,CAAE0G,UAAW,WAAzB,2BA1GmB9G,aA2J7BuH,EAAgB,SAAC1O,GACnB,OAAIA,EAAM2O,eAAe,WAA8B,WAAjB3O,EAAM4O,OAChChI,EAAAvB,EAAAwB,cAAA,KAAGU,MAAO,CAAE/I,MAAO,UAAnB,UACHwB,EAAM2O,eAAe,WAA8B,WAAjB3O,EAAM4O,OACrChI,EAAAvB,EAAAwB,cAAA,KAAGU,MAAO,CAAE/I,MAAO,QAAnB,UACCoI,EAAAvB,EAAAwB,cAAA,eAGXgI,EAAkB,SAAC7O,GACrB,MAAmB,SAAfA,EAAM+F,KACEa,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQC,SAAO,EAAC9I,KAAM,CAAEtF,KAAM,QAAUoL,SAAU/L,EAAM+L,SAAUvN,MAAOwB,EAAMgP,gBAAiBC,QAASjP,EAAMsL,YAG/G1E,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQC,SAAO,EAAC9I,KAAM,CAAEtF,KAAM,iBAAmBnC,MAAM,MAAMyQ,QAASjP,EAAMgM,eAItFkD,EAAW,SAAClP,GACd,IAAMiL,EAAS,CAAC,SAAU,SAAU,OAAQ,QAAS,OACrD,OAEIrE,EAAAvB,EAAAwB,cAAEsI,EAAA,EAAKC,MAAP,CAAaC,YAAarP,EAAMqL,OAExBrL,EAAMkL,MAAMpK,IAAI,SAAA4C,GAEZ,IAAMrC,EAAMqC,EAAEc,SAASvG,SAASoD,IAC1BC,EAAMoC,EAAEc,SAASvG,SAASqD,IAC1B9C,EAAQ8Q,SAASrE,GAEnBsE,EAAY,IACZxH,EAAM,GAENgE,GAAW,EAIf,GAHI/L,EAAMwL,YAAYpJ,SAASsB,EAAEhB,YAC7BqJ,GAAW,GAEXrI,EAAEsE,OAAQ,CACV,IAAMC,EAAiBvE,EAAEsE,OAAO,GAAGE,gBAE/BH,EADAE,EACG,GAAArI,OAAMxB,EAAN,gCAAAwB,OAAwDqI,EAAxD,SAAArI,OAA8ExB,GAE3EsF,EAAEsE,OAAO,GAAGG,SAM1B,OAJIzE,EAAEZ,eAAiBY,EAAEZ,cAAc0M,WACnCD,EAAY,UACZ7L,EAAEZ,gBAAkBY,EAAEZ,cAAc0M,WACpCD,EAAY,UAEZ3I,EAAAvB,EAAAwB,cAACsI,EAAA,EAAD,CAAM3Q,MAAOA,EAAOwG,IAAKtB,EAAErB,IACvBuE,EAAAvB,EAAAwB,cAACsI,EAAA,EAAKM,QAAN,KACI7I,EAAAvB,EAAAwB,cAACsI,EAAA,EAAKO,OAAN,KACI9I,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,GACXjH,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAK+B,OAAN,CAAaC,MAAO,IACflM,EAAE/C,MAGPiG,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAK+B,OAAN,CAAa1B,UAAU,QAAQ2B,MAAO,GAClChJ,EAAAvB,EAAAwB,cAACgJ,EAAA,EAAD,CAAO7B,KAAK,OAAOjG,IAAKrE,EAAEuC,WAK1CW,EAAAvB,EAAAwB,cAACsI,EAAA,EAAKM,QAAN,KACI7I,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,EAAGiC,OAAO,QACrBlJ,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAK+B,OAAN,CAAaI,cAAc,UAEvBnJ,EAAAvB,EAAAwB,cAACsI,EAAA,EAAKa,KAAN,KACIpJ,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,SACV+C,EAAEwM,QAGPtJ,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASC,UAAQ,EAACC,OAAK,EAACtB,SAAO,EAACxH,MAAO,CAAE+I,cAAe,IACpD1J,EAAAvB,EAAAwB,cAACsI,EAAA,EAAKoB,YAAN,KACK7M,EAAE8E,SACH5B,EAAAvB,EAAAwB,cAAC2J,EAAD,CAAe5B,OAAQW,MAG/B3I,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASE,OAAK,EAACD,UAAQ,EAAC7I,MAAO,CAAE+I,cAAe,IAC5C1J,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMhB,QAASjP,EAAMyQ,QAAQ9C,YAAWtM,EAAKC,EAAKoC,GAAIgN,UAAU,WAAWjG,MAAM,MAAM9J,KAAK,MAAMnC,MAAM,WAGhHoI,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAK+B,OAAN,KACI/I,EAAAvB,EAAAwB,cAAA,QAAMU,MAAO,CAAEI,aAAc,MAAOmI,OAAQa,QAAkBpC,MAAO,QAASqC,SAAU,WACpFhK,EAAAvB,EAAAwB,cAACgJ,EAAA,EAAD,CAAO9H,IAAKA,EAAKiG,KAAK,QAAQ6C,SAAO,OAIjDjK,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASE,OAAK,EAACD,UAAQ,EAACnC,UAAU,QAAQ1G,MAAO,CAAEiG,aAAc,IAC7D5G,EAAAvB,EAAAwB,cAACiK,EAAD,CAAiBrO,QAASiB,EAAEhB,SAAUsJ,YAAahM,EAAMgM,YAAY2B,YAAWjK,EAAEhB,UAAW4I,UAAWtL,EAAMsL,UAAUqC,YAAWjK,EAAEhB,UAAWqD,KAAM/F,EAAM+F,KAAMiJ,gBAzD5J,SAyD8LjD,SAAUA,WCvP7NgF,6MAEjB9F,OAAS,CAAC,OAAQ,SAAU,SAAU,MAAO,YAC7CI,MAAQ,IACRvL,MAAQ,CACJuL,MAAO,EACPhK,IAAKvC,EAAKkB,MAAMwD,gBAAgBnC,IAChCC,IAAKxC,EAAKkB,MAAMwD,gBAAgBlC,IAChC0P,YAAY,EACZ3M,OAAO,KAEXoM,QAAU,SAACpP,EAAKC,EAAKgD,GACC,mBAAPjD,IACPA,EAAMA,IACNC,EAAMA,KAENxC,EAAKgB,MAAMkR,WACXlS,EAAK4B,SAAS,CACVsQ,YAAY,IAGhBlS,EAAK4B,SAAS,CACVW,IAAKA,EACLC,IAAKA,EACL0P,YAAY,EACZ1M,MAAOA,EACPD,OAAO,OAKnBf,SAAW,SAAC/C,EAAGO,GACXhC,EAAK4B,SAAS,CACVsQ,YAAY,EACZ3M,OAAO,OAIfK,UAAY,SAACuM,GACTnS,EAAKkB,MAAM0E,UAAU,CAAErD,IAAK4P,EAAI5P,IAAKC,IAAK2P,EAAI3P,+EAI9C,OAAIrC,KAAKe,MAAMwD,gBAAgBnC,KAAoC,UAA3BpC,KAAKe,MAAMkR,eAAsD,UAA3BjS,KAAKe,MAAMkR,cAEjFtK,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAA,OAAKsK,QAASlS,KAAKa,MAAMkR,WAAYN,UAAU,kBAE3C9J,EAAAvB,EAAAwB,cAACuK,EAADrS,OAAA0P,OAAA,GACQxP,KAAKe,MADb,CAEI+F,KAAM9G,KAAKe,MAAM+F,KACjBlB,QAAS5F,KAAKa,MAAMkR,WACpB5P,OAAQ,CAAEC,IAAKpC,KAAKa,MAAMuB,IAAKC,IAAKrC,KAAKa,MAAMwB,IAAKgD,MAAOrF,KAAKa,MAAMwE,OACtEvE,OAAQd,KAAKe,MAAMkN,WACnB1J,gBAAiBvE,KAAKe,MAAMwD,gBAC5B6N,SAAUpS,KAAKoS,SACfC,SAAS,EACThO,SAAUrE,KAAKqE,SACfN,UAAW/D,KAAKe,MAAMgD,UACtBqB,MAAOpF,KAAKa,MAAMuE,MAClBK,UAAWzF,KAAKe,MAAM0E,cAK9BkC,EAAAvB,EAAAwB,cAAC0K,EAAD,CACIxL,KAAM9G,KAAKe,MAAM+F,KACjBmH,WAAYjO,KAAKe,MAAMkN,WACvBsE,WAAYvS,KAAKa,MAAM0R,WACvBf,QAASxR,KAAKwR,QACdxE,aAAchN,KAAKe,MAAMiM,gBAM7BrF,EAAAvB,EAAAwB,cAAA,KAAGU,MAAO,CAAC0G,UAAU,WAArB,gCA5EoB9G,aC2GzBsK,eAhGX,SAAAA,IAAc,IAAA3S,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwS,IACV3S,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAA0S,GAAA/R,KAAAT,QARJa,MAAQ,CACJwR,SAAS,EACT9L,SAAU,UACVwL,YAAY,EACZ3P,IAAK,KACLC,IAAK,MAEKxC,EAKd4S,YAAc,SAACzP,GACXnD,EAAK4B,SAASuB,IANJnD,EASd6S,YAAc,SAAC3I,GACXlK,EAAK4B,SAAS,CAAE4Q,SAAS,IACzBxS,EAAK8S,IAAItI,mBAAmBN,GAAO6C,KAAK,SAAA5J,GACpCnD,EAAK4B,SAAS,CACV4Q,SAAS,EACT9L,SAAUvD,EAAKhE,SACfoD,IAAKY,EAAKZ,IACVC,IAAKW,EAAKX,QAEfuQ,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAE4Q,SAAS,OApBnBxS,EAuBdiT,iBAAmB,SAAChS,GAChBjB,EAAK4B,SAAS,CACVsR,eAAgBjS,EAChBmN,WAAYnN,KA1BNjB,EA8BdkE,UAAY,SAACf,GACTnD,EAAK4B,SAAS,CAAEuR,eAAe,IAC/BnT,EAAK8S,IAAI5O,UAAUf,EAAKN,OAAQM,EAAKL,QAAS,CAAEP,IAAKvC,EAAKgB,MAAMuB,IAAKC,IAAKxC,EAAKgB,MAAMwB,MAChFuK,KAAK,SAAC5J,GACH,IAAIiL,EAAajL,EAAKA,KAAKA,KAC3BiL,EAAWhL,QAAQ,SAAAwB,GACf5E,EAAK8S,IAAIhP,WAAWc,EAAEhB,SAAU,qBAC3BmJ,KAAK,SAAA1J,GACFuB,EAAC,cAAoBvB,EAAEF,MAAQE,EAAEF,KAAKA,KAAOE,EAAEF,KAAKA,KAAKa,cAAgB,KACzEY,EAAC,IAAUvB,EAAEF,MAAQE,EAAEF,KAAKA,KAAOE,EAAEF,KAAKA,KAAKc,IAAM,OACtD8O,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAEuR,eAAe,QAG3CnT,EAAK4B,SAAS,CACVuR,eAAe,EACf/E,WAAYA,EACZ8E,eAAgB9E,MAErB2E,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAEuR,eAAe,MAEvCnT,EAAK4B,SAAS,CACVgB,MAAOO,KAvDDnD,EA2DdoT,aAAe,SAACjN,GACZ,IAAI+M,EAAiBlT,EAAKgB,MAAMoN,WAAapO,EAAKgB,MAAMoN,WAAWiF,OAAO,SAACC,GAAD,OAAQA,EAAGzR,KAAK0R,cAAclU,MAAM8G,EAAMoN,iBAAkB,KACtIvT,EAAK4B,SAAS,CACVsR,eAAgBA,KA5DpBlT,EAAK8S,IAAM,IAAIhJ,EAFL9J,oFAmEVG,KAAK0S,aAAY,oCAGjB,OACI/K,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAQf,MAAT,KACIxI,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASlC,UAAU,SAASqD,QAASrS,KAAKa,MAAMwR,SAC5C1K,EAAAvB,EAAAwB,cAACyL,GAAD,CACIrU,SAAUgB,KAAKa,MAAM0F,SACrB+M,cAAetT,KAAK0S,eAG5B/K,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,KACIvJ,EAAAvB,EAAAwB,cAAC2L,GAAD,CAAmBxP,UAAW/D,KAAK+D,UAAWyP,SAAUxT,KAAKiT,gBAEjEtL,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASmB,QAASrS,KAAKa,MAAMmS,eACzBrL,EAAAvB,EAAAwB,cAAC6L,EAAD3T,OAAA0P,OAAA,GACQxP,KAAKe,MADb,CAEI0B,MAAOzC,KAAKa,MAAM4B,MAClBwL,WAAYjO,KAAKa,MAAMkS,eACvBhP,UAAW/D,KAAK8S,iBAChBvO,gBAAiB,CAAEnC,IAAKpC,KAAKa,MAAMuB,IAAKC,IAAKrC,KAAKa,MAAMwB,iBAhGlD6F,aA2GxBwL,8MACF3J,MAAQ,SAACzI,GACLA,EAAEqS,iBACFlN,EAAK1F,MAAMuS,eAAc,4EAGzB,OACI3L,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAC6I,EAAA,EAAD,CAAQnI,MAAO,CAAEsL,QAAS,GAAK7E,KAAK,SAAS/H,MAAI,GAC7CW,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,WAAWqN,KAAK,UAC1B/O,KAAKe,MAAM/B,kBAVEkJ,aAiB5B2L,8MAEFhT,MAAQ,CACJ8B,QAAS,GACTD,OAAQ,SAGZuQ,aAAe,SAAC3R,GACZwS,EAAK/S,MAAMyS,SAASlS,EAAEuL,OAAO7G,UAEjC+N,kBAAoB,SAACzS,GACjBwS,EAAKrS,SAAS,CACVkB,QAASrB,EAAEuL,OAAO7G,WAG1BgO,mBAAqB,SAAC1S,GAClBwS,EAAKrS,SAAS,CACViB,OAAQpB,EAAEuL,OAAO7G,WAGzBiO,aAAe,WACXH,EAAK/S,MAAMgD,UAAU+P,EAAKjT,gFAG1B,OACI8G,EAAAvB,EAAAwB,cAACsM,EAAA,EAAD,CAAMC,SAAUnU,KAAKiU,aAAavF,KAAK1O,OACnC2H,EAAAvB,EAAAwB,cAACsM,EAAA,EAAK/D,MAAN,CAAYiE,OAAO,KACfzM,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACII,SAAUrP,KAAK+T,kBAAkBrF,KAAK1O,MACtCgH,KAAK,WACLsN,aAAa,OACbC,YAAY,qCACZvO,MAAOhG,KAAKa,MAAM8B,WAE1BgF,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACII,SAAUrP,KAAKgU,mBAAmBtF,KAAK1O,MACvC8G,KAAK,SACLqI,IAAI,KACJqF,KAAK,KACLtF,MAAM,IACNuF,cAAc,QACdzN,KAAK,iBACLsN,aAAa,OACbtO,MAAOhG,KAAKa,MAAM6B,OAClB6R,YAAY,qBAGxB5M,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,GACXjH,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,KACIlH,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQ7I,MAAI,EAACzH,MAAM,SAASkV,cAAc,OAAO3H,UAAW9M,KAAKa,MAAM8B,SACnEgF,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,mBADf,OAKJiG,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,CAAYG,UAAU,SAClBrH,EAAAvB,EAAAwB,cAAA,OAAK6J,UAAU,6BACX9J,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACIjI,KAAK,SACLsN,aAAa,OACbC,YAAY,YACZ9C,UAAU,SACViD,QAAQ,QACRrF,SAAUrP,KAAKiT,aAAavE,KAAK1O,mBAhEjCkI,qDC7HXyM,cAMjB,SAAAA,IAAe7U,OAAAC,EAAA,EAAAD,CAAAE,KAAA2U,GAAA3U,KAJf4U,YAAc,SAKV5U,KAAK8D,KAAM,IAAI0F,GAAS1F,2DAGjB+Q,GACP,OAAO9J,IAAMI,KAAKnL,KAAK8D,IAAM,SAAU,CAAE+Q,oBACpCjI,KAAK,SAAA5J,GAAI,OAAIA,IACb4P,MAAM,SAAAhI,GAAG,OAAIV,QAAQE,OAAOQ,oCAG9BiK,GAAiB,IAAAhV,EAAAG,KACpB,OAAO+K,IAAMI,KAAKnL,KAAK8D,IAAM,eAAgB,CAAE+Q,oBAC1CjI,KAAK,SAAA5J,GAKF,OAJA0J,aAAaoI,QAAQ,UAAW9R,EAAKA,KAAK+R,KAAKC,KAC/CtI,aAAaoI,QAAQ,YAAa9R,EAAKA,KAAK+R,KAAKrT,MACjD7B,EAAKoV,SAAWjS,EAAKA,KAAK+R,KAAKrT,KAC/B7B,EAAKqV,MAAQlS,EAAKA,KAAKkS,MAChBlS,IAEV4P,MAAM,SAAAhI,GAAG,OAAIV,QAAQE,OAAOQ,cCgB1BuK,eAtCb,SAAAA,EAAYpU,GAAO,IAAAlB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmV,IACjBtV,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAqV,GAAA1U,KAAAT,KAAMe,KAEDqU,aAAe,IAAIT,GACxB9U,EAAKgB,MAAQ,CACXoU,SAAUvI,aAAaC,QAAQ,cALhB9M,wEASjB,OACE8H,EAAAvB,EAAAwB,cAACyN,GAAA,EAAD,CAAMC,SAAS,OACb3N,EAAAvB,EAAAwB,cAAC2N,GAAA,EAAD,CAAU1M,KAAK,OAAO2M,MAAI,GACxB7N,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASF,KAAV,KACE1N,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASE,KAAV,CAAeC,GAAIC,KAAMC,GAAG,sBAA5B,oBAGAjO,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASE,KAAV,CAAeC,GAAIC,KAAMC,GAAG,oBAA5B,mBAGAjO,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASE,KAAV,CAAeC,GAAIC,KAAMC,GAAG,oBAA5B,kBAGJjO,EAAAvB,EAAAwB,cAACyN,GAAA,EAAKI,KAAN,CAAWlP,SAAS,SAClBoB,EAAAvB,EAAAwB,cAAC2N,GAAA,EAAD,CAAU1M,KAAM7I,KAAKa,MAAMoU,SAAWtN,EAAAvB,EAAAwB,cAAA,WAAKD,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,SAAhB,IAAAf,OAAmCX,KAAKa,MAAMoU,WAAoB,MACtGtN,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASF,KAAV,CAAe5D,UAAU,iBACvB9J,EAAAvB,EAAAwB,cAAC2N,GAAA,EAASE,KAAV,CACEC,GAAIC,KAAMC,GAAG,UADf,qBA1BW1N,aCWV2N,oLAVP,OACIlO,EAAAvB,EAAAwB,cAACkO,GAAA,EAAD,CAAWrE,UAAU,kBACjB9J,EAAAvB,EAAAwB,cAACmO,GAAD,MACApO,EAAAvB,EAAAwB,cAACoO,GAAD,MACArO,EAAAvB,EAAAwB,cAACqO,EAAA,sBAAD,cANE/N,aC2GHgO,eA1GX,SAAAA,IAAc,IAAArW,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkW,IACVrW,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAoW,GAAAzV,KAAAT,QAIJ0S,YAAc,SAAC3I,GACXlK,EAAK4B,SAAS,CAAE4Q,SAAS,IACzBxS,EAAK8S,IAAItI,mBAAmBN,GAAO6C,KAAK,SAAA5J,GACpCnD,EAAK4B,SAAS,CACV4Q,SAAS,EACTrT,SAAUgE,EAAKhE,SACfoD,IAAKY,EAAKZ,IACVC,IAAKW,EAAKX,QAEfuQ,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAE4Q,SAAS,OAhBnBxS,EAmBd4F,UAAY,SAACuM,EAAKmE,GACdtW,EAAK4B,SAAS,CAAEW,IAAK4P,EAAI5P,IAAKC,IAAK2P,EAAI3P,MACvCxC,EAAK4B,SAAS,CAAEzC,SAAUmX,KArBhBtW,EAwBdgB,MAAQ,CACJwR,SAAS,EACTrT,SAAU,WA1BAa,EA6BdkE,UAAY,SAACf,GACTnD,EAAK4B,SAAS,CAAEuR,eAAe,IAC/BnT,EAAK8S,IAAI5O,UAAUf,EAAKN,OAAQM,EAAKL,QAAS,CAAEP,IAAKvC,EAAKgB,MAAMuB,IAAKC,IAAKxC,EAAKgB,MAAMwB,MAChFuK,KAAK,SAAC5J,GACH,IAAIiL,EAAajL,EAAKA,KAAKA,KAC3BiL,EAAWhL,QAAQ,SAAAwB,GACf5E,EAAK8S,IAAIhP,WAAWc,EAAEhB,SAAU,qBAC3BmJ,KAAK,SAAA1J,GACFuB,EAAC,cAAoBvB,EAAEF,MAAQE,EAAEF,KAAKA,KAAOE,EAAEF,KAAKA,KAAKa,cAAgB,KACzEY,EAAC,IAAUvB,EAAEF,MAAQE,EAAEF,KAAKA,KAAOE,EAAEF,KAAKA,KAAKc,IAAM,OACtD8O,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAEuR,eAAe,QAG3CnT,EAAK4B,SAAS,CACVuR,eAAe,EACf/E,WAAYA,EACZ8E,eAAgB9E,MAErB2E,MAAM,SAAAhI,GACLU,EAAO,QAASV,EAAIiI,SACpBhT,EAAK4B,SAAS,CAAEuR,eAAe,MAEvCnT,EAAK4B,SAAS,CACVgB,MAAOO,KAtDDnD,EA0DdoT,aAAe,SAACjN,GACZ,IAAM+M,EAAiBlT,EAAKgB,MAAMoN,WAAapO,EAAKgB,MAAMoN,WAAWiF,OAAO,SAACC,GAAD,OAAQA,EAAGzR,KAAK0R,cAAclU,MAAM8G,EAAMoN,iBAAkB,KACxIvT,EAAK4B,SAAS,CACVsR,eAAgBA,KA7DVlT,EAgEdiT,iBAAmB,SAAChS,GAChBjB,EAAK4B,SAAS,CACVsR,eAAgBjS,EAChBmN,WAAYnN,KAnENjB,EA0EduW,UAAY,SAACzT,GACT9C,EAAK4B,SAAS,CAAEgB,MAAO,CAAEE,QAASA,MAzElC9C,EAAK8S,IAAM,IAAIhJ,EAFL9J,oFAuEVG,KAAK0S,aAAY,oCAQjB,OACI/K,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAQf,MAAT,KACIxI,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASlC,UAAU,SAASqD,QAASrS,KAAKa,MAAMwR,SAC5C1K,EAAAvB,EAAAwB,cAACyO,GAAD,CACIrX,SAAUgB,KAAKa,MAAM7B,YAI7B2I,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,KACIvJ,EAAAvB,EAAAwB,cAAC0O,GAAD,CAAiBF,UAAWpW,KAAKoW,UAAWG,WAAYvW,KAAK+D,UAAWyP,SAAUxT,KAAKiT,gBAE3FtL,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASmB,QAASrS,KAAKa,MAAMmS,eACzBrL,EAAAvB,EAAAwB,cAAC6L,EAAD3T,OAAA0P,OAAA,GACQxP,KAAKe,MADb,CAEIkR,cAAe,QACfxM,UAAWzF,KAAKyF,UAChBhD,MAAOzC,KAAKa,MAAM4B,MAClBwL,WAAYjO,KAAKa,MAAMkS,eACvBhP,UAAW/D,KAAK8S,iBAChBvO,gBAAiB,CAAEnC,IAAKpC,KAAKa,MAAMuB,IAAKC,IAAKrC,KAAKa,MAAMwB,iBAnGnD6F,aA4GvBsO,8MAEF3V,MAAQ,CACJ4V,KAAM,GACN9T,QAAS,MAGbsQ,aAAe,SAAC3R,GACZmF,EAAK1F,MAAMyS,SAASlS,EAAEuL,OAAO7G,UAEjC+N,kBAAoB,SAACzS,GACjBmF,EAAKhF,SAAS,CAAEkB,QAASrB,EAAEuL,OAAO7G,WAGtC0Q,iBAAmB,SAACpV,GAChBmF,EAAKhF,SAAS,CACVgV,KAAMnV,EAAEuL,OAAO7G,WAIvBiO,aAAe,WACXxN,EAAK1F,MAAMwV,WAAW9P,EAAK5F,gFAEtB,IAAAiT,EAAA9T,KACL,OACI2H,EAAAvB,EAAAwB,cAACsM,EAAA,EAAD,CAAMC,SAAUnU,KAAKiU,aAAavF,KAAK1O,OACnC2H,EAAAvB,EAAAwB,cAACsM,EAAA,EAAK/D,MAAN,CAAYiE,OAAO,KACfzM,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACII,SAAUrP,KAAK+T,kBAAkBrF,KAAK1O,MACtCgH,KAAK,WACLsN,aAAa,OACbC,YAAY,qCACZvO,MAAOhG,KAAKa,MAAM8B,WAG1BgF,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACI7L,GAAG,kBACH0D,KAAK,OACL6P,IAAK,SAAAA,GAAG,OAAK7C,EAAKpP,aAAeiS,GACjCpC,YAAY,mBAIpB5M,EAAAvB,EAAAwB,cAAA,OAAKxE,GAAG,wBAEZuE,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,GACXjH,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,KACIlH,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQ7I,MAAI,EAACzH,MAAM,SAASkV,cAAc,OAAO3H,UAAW9M,KAAKa,MAAM8B,SACnEgF,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,mBADf,OAKJiG,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,CAAYG,UAAU,SAClBrH,EAAAvB,EAAAwB,cAAA,OAAK6J,UAAU,6BACX9J,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACIjI,KAAK,SACLsN,aAAa,OACbC,YAAY,YACZ9C,UAAU,SACViD,QAAQ,QACRrF,SAAUrP,KAAKiT,aAAavE,KAAK1O,mBA9DnCkI,aAwExB0O,oLAGE,OACIjP,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAC6I,EAAA,EAAD,CAAQ1B,KAAK,SAAS/H,MAAI,GACtBW,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,WAAWqN,KAAK,UAC1B/O,KAAKe,MAAM/B,kBAPCkJ,uBClFjC2O,eA/FI,SAAAC,IAAc,IAAAjX,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8W,IACVjX,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAgX,GAAArW,KAAAT,QAIJa,MAAQ,CACJkW,qBAAsB,SACtBC,kBAAmB,SACnBlQ,KAAM,UARIjH,EAUdoX,MAAQ,SAAChC,EAAUiC,GACf,IAAMrC,EAAkB,CACpBI,SAAUA,EACViC,SAAUA,GAEU,WAApBrX,EAAKgB,MAAMiG,KACXjH,EAAKuV,aAAa+B,OAAOtC,GACpBjI,KACG,SAAA5J,GACInD,EAAKkB,MAAMqW,QAAQ9T,KAAK,KACxBgI,EAAO,UAAD,WAAA3K,OAAuBqC,EAAKA,KAAK+R,KAAKrT,KAAtC,QAEZkR,MAAM,SAAAhI,GACJyM,QAAQC,IAAI1M,GACZU,EAAO,QAAUV,EAAI2M,UAAY3M,EAAI2M,SAASvU,KAAK8I,OAAUlB,EAAIiI,WAGhD,cAApBhT,EAAKgB,MAAMiG,MAChBjH,EAAKuV,aAAaoC,WAAW3C,GACxBjI,KACG,SAAA5J,GACInD,EAAK4B,SAAS,CACVqF,KAAM,WAGVwE,EAAO,UAAWtI,EAAKA,KAAK6P,WAElCD,MAAM,SAAAhI,GAEJU,EAAO,QAAUV,EAAI2M,UAAY3M,EAAI2M,SAASvU,KAAK8I,OAAUlB,EAAIiI,YAvCnEhT,EA4Cd4X,aAAe,SAAC3Q,GACZjH,EAAK4B,SAAS,CACVuV,kBAAmB,SACnBD,qBAAsB,SACtBjQ,KAAM,YAhDAjH,EAoDd6X,YAAc,SAAC5Q,GACXjH,EAAK4B,SAAS,CACVuV,kBAAmB,SACnBD,qBAAsB,SACtBjQ,KAAM,eAxDAjH,EA2DdgO,mBAAqB,WACjBnB,aAAaiL,SA1Db9X,EAAKuV,aAAe,IAAIT,GAFd9U,wEAgEV,OACI8H,EAAAvB,EAAAwB,cAACkO,GAAA,EAAD,CAAWjN,MAAI,EAACP,MAAO,CAAEsP,UAAW,SAChCjQ,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASnC,KAAK,QACVpH,EAAAvB,EAAAwB,cAAC+G,EAAA,EAAD,CAAMC,QAAS,GACXjH,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,MAGAlH,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,KACIlH,EAAAvB,EAAAwB,cAAC6I,EAAA,EAAD,CAAQzB,UAAU,SAASD,KAAK,SACP,WAApB/O,KAAKa,MAAMiG,KAAoB,UAAY,aAIpDa,EAAAvB,EAAAwB,cAACiH,EAAA,EAAD,CAAYG,UAAU,SAClBrH,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQtQ,MAAOS,KAAKa,MAAMmW,kBAAmBhH,QAAShQ,KAAKyX,cAA3D,WAGA9P,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQtQ,MAAOS,KAAKa,MAAMkW,qBAAsB/G,QAAShQ,KAAK0X,aAA9D,cAKR/P,EAAAvB,EAAAwB,cAACiQ,GAAA,EAAD,MACAlQ,EAAAvB,EAAAwB,cAACkQ,GAAD,CAAWb,MAAOjX,KAAKiX,MAAOnQ,KAAM9G,KAAKa,MAAMiG,QAEnDa,EAAAvB,EAAAwB,cAACqO,EAAA,sBAAD,cA3FQ/N,aAkGlB6P,8MAEFlX,MAAQ,CACJoU,SAAU,GACViC,SAAU,GACVc,cAAe,cAInBC,iBAAmB,SAAC3W,GAChBmF,EAAKhF,SAAS,CACVwT,SAAU3T,EAAEuL,OAAO7G,WAG3BkS,qBAAuB,SAAC5W,GACpBmF,EAAKhF,SAAS,CACVyV,SAAU5V,EAAEuL,OAAO7G,WAG3BiO,aAAe,WACXxN,EAAK1F,MAAMkW,MAAMxQ,EAAK5F,MAAMoU,SAAUxO,EAAK5F,MAAMqW,aAGrDiB,eAAiB,WACoB,aAA7B1R,EAAK5F,MAAMmX,cACXvR,EAAKhF,SAAS,CAAEuW,cAAe,SAE/BvR,EAAKhF,SAAS,CAAEuW,cAAe,sFAGnC,OAEIrQ,EAAAvB,EAAAwB,cAACsM,EAAA,EAAD,CAAMC,SAAUnU,KAAKiU,aAAavF,KAAK1O,OAEnC2H,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAAA,SAAOwJ,MAAM,QAAb,YACAzJ,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACII,SAAUrP,KAAKiY,iBAAiBvJ,KAAK1O,MACrCgH,KAAK,cACLuN,YAAY,kBACZvO,MAAOhG,KAAKa,MAAMoU,YAE1BtN,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAAA,SAAOwJ,MAAM,QAAb,YACAzJ,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACII,SAAUrP,KAAKkY,qBAAqBxJ,KAAK1O,MACzC8G,KAAM9G,KAAKa,MAAMmX,cACjBhS,MAAOhG,KAAKa,MAAMqW,SAClB3C,YAAY,mBACZ5M,EAAAvB,EAAAwB,cAAA,cACAD,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQuB,OAAK,EAACtK,KAAK,SAASkJ,QAAShQ,KAAKmY,eAAgBnR,KAAK,UAKvEW,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASlC,UAAU,SAASoC,OAAK,GAC7BzJ,EAAAvB,EAAAwB,cAACiI,EAAA,EAAD,CAAQtQ,MAAM,OAAOuN,UAAW9M,KAAKa,MAAMoU,WAAajV,KAAKa,MAAMqW,UAE9C,WAApBlX,KAAKe,MAAM+F,KAAoB,UAAY,qBA1DxCoB,uBCnGXkQ,GAAb,SAAAzY,GAQI,SAAAyY,IAAc,IAAAvY,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoY,IACVvY,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAsY,GAAA3X,KAAAT,QAPJa,MAAQ,CACJmS,eAAe,EACfD,eAAgB,GAChB9E,WAAY,GACZoK,WAAY,IAEFxY,EAKdoT,aAAe,SAACjN,GACZ,IAAI+M,EAAiBlT,EAAKgB,MAAMyX,eAAiBzY,EAAKgB,MAAMyX,eAAepF,OAAO,SAACC,GAAD,OAAQA,EAAGzR,KAAK0R,cAAclU,MAAM8G,EAAMoN,iBAAkB,KAC9IvT,EAAK4B,SAAS,CACVsR,eAAgBA,KARVlT,EAYd0Y,aAAe,SAACC,EAAIC,GAChB,GAAkB,QAAdA,EAAIzS,MACJ,OAAOnG,EAAK4B,SAAS,CACjBsR,eAAgBlT,EAAKgB,MAAMoN,WAC3BqK,eAAgBzY,EAAKgB,MAAMoN,aAGnC,IAAIqK,EAAiBzY,EAAKgB,MAAMoN,WAAapO,EAAKgB,MAAMoN,WAAWiF,OAAO,SAACC,GAAD,OAAQA,EAAGsD,KAAKvX,MAAMuZ,EAAIzS,SAAU,KAC9GnG,EAAK4B,SAAS,CACVsR,eAAgBuF,EAChBA,eAAgBA,KAtBVzY,EAyBdmN,aAAe,SAACV,GACZ,IAAIyG,EAAiBlT,EAAKgB,MAAMkS,eAAeG,OAAO,SAAAwF,GAAE,OAAIA,EAAGjV,WAAa6I,IACxE2B,EAAapO,EAAKgB,MAAMoN,WAAWiF,OAAO,SAAAwF,GAAE,OAAIA,EAAGjV,WAAa6I,IACpEzM,EAAK4B,SAAS,CACVsR,eAAgBA,EAChB9E,gBA9BMpO,EAiCdgO,mBAAqB,WACjBhO,EAAK8S,IAAI5E,iBAAiBrB,aAAaC,QAAQ,YAC1CC,KAAK,SAAA5J,GACF,IAAIiL,EAAa,GACboK,EAAa,CAAC,CAAEtS,IAAO,MAAO8C,KAAQ,MAAO8P,KAAQ,KAAM3S,MAAS,QACxE,GAA8B,IAA1BhD,EAAKA,KAAKA,KAAK7C,OACf,OAAON,EAAK4B,SAAS,CACjBwM,WAAYA,EACZ8E,eAAgB9E,EAChB+E,eAAe,IAKvBhQ,EAAKA,KAAKA,KAAKC,QAAQ,SAACC,EAAG0V,GACvB,IAAIrV,EAAiB,CACjBC,QAASN,EAAEO,SACXC,OAAQ,IAEZ7D,EAAK8S,IAAIhP,WAAWJ,EAAeC,QAASD,EAAeG,QAAQkJ,KAAK,SAAChJ,GAErE,IAAM6S,EAAO7S,EAAIZ,KAAKA,KAAK6V,mBAAmBC,KAAK,SAAAC,GAAE,OAAIA,EAAGnU,MAAMzB,SAAS,aAAe4V,EAAGnU,MAAMzB,SAAS,iBAAgB6V,UACtHC,EAAUrV,EAAIZ,KAAKA,KAAK6V,mBAAmBC,KAAK,SAAAC,GAAE,OAAIA,EAAGnU,MAAMzB,SAAS,aAAY6V,UAAU5F,cACpGiF,EAAW/U,KAAK,CAAEyC,IAAO6S,EAAG/P,KAAQ4N,EAAMkC,KAAQM,EAASjT,MAASyQ,IACpExI,EAAW3K,KAAKxD,OAAO0P,OAAO5L,EAAIZ,KAAKA,KAAM,CAAEyT,KAAMA,KACjDxI,EAAW9N,SAAW6C,EAAKA,KAAKA,KAAK7C,QACrCN,EAAK4B,SAAS,CACVwM,WAAYA,EACZ8E,eAAgB9E,EAChBqK,eAAgBrK,EAChB+E,eAAe,EACfqF,WAAYhI,IAAE6I,OAAOb,EAAY,iBA9DzDxY,EAAK8S,IAAM,IAAIhJ,EAFL9J,EARlB,OAAAC,OAAA+F,EAAA,EAAA/F,CAAAsY,EAAAzY,GAAAG,OAAAgG,EAAA,EAAAhG,CAAAsY,EAAA,EAAArS,IAAA,SAAAC,MAAA,WAiFQ,OACI2B,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAQf,MAAT,KACIxI,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASlC,UAAU,UACfrH,EAAAvB,EAAAwB,cAAC6I,EAAA,EAAD,CAAQ1B,KAAK,SAAS/H,MAAI,GACtBW,EAAAvB,EAAAwB,cAACoJ,EAAA,EAAD,CAAMtP,KAAK,OAAOqN,KAAK,UAD3B,iBAKH/O,KAAKa,MAAMwX,WAAWlY,OAAS,EAAIwH,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,KAChCvJ,EAAAvB,EAAAwB,cAACuR,GAAD,CAAWZ,aAAcvY,KAAKuY,aAAcF,WAAYrY,KAAKa,MAAMwX,WAAY7E,SAAUxT,KAAKiT,gBACrF,KACbtL,EAAAvB,EAAAwB,cAACsJ,EAAA,EAAD,CAASmB,QAASrS,KAAKa,MAAMmS,eACzBrL,EAAAvB,EAAAwB,cAAC6L,EAAD3T,OAAA0P,OAAA,GACQxP,KAAKe,MADb,CAEIiM,aAAchN,KAAKgN,aACnBlG,KAAM,OACNmL,cAAe,QACfxM,UAAWzF,KAAKyF,UAChBhD,MAAOzC,KAAKa,MAAM4B,MAClBwL,WAAYjO,KAAKa,MAAMkS,eACvBhP,UAAW/D,KAAK8S,iBAChBvO,gBAAiB,CAAEnC,IAAKpC,KAAKa,MAAMuB,IAAKC,IAAKrC,KAAKa,MAAMwB,cAtGhF+V,EAAA,CAAiClQ,aA8G3BkR,GAAY,SAACrY,GAKf,OACI4G,EAAAvB,EAAAwB,cAACsM,EAAA,EAAD,KACIvM,EAAAvB,EAAAwB,cAACsM,EAAA,EAAK/D,MAAN,CAAYiE,OAAO,KACfzM,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACyR,GAAA,EAAD,CAAQhK,SAAUtO,EAAMwX,aAAcjQ,MAAO,CAAEgR,YAAa,QAAU/E,YAAY,cAAcgF,QAASxY,EAAMsX,cAEnH1Q,EAAAvB,EAAAwB,cAACsM,EAAA,EAAKG,MAAN,KACI1M,EAAAvB,EAAAwB,cAACqH,EAAA,EAAD,CACIjI,KAAK,SACLsN,aAAa,OACbC,YAAY,YACZ9C,UAAU,SACViD,QAAQ,QACRrF,SAjBC,SAAC/N,GAClBP,EAAMyS,SAASlS,EAAEuL,OAAO7G,cC5F1BwT,GAAY,SAACzY,GACf,OAAI2L,aAAaC,QAAQ,aACdhF,EAAAvB,EAAAwB,cAAC6R,GAAD,MAEA9R,EAAAvB,EAAAwB,cAAC8R,EAAA,EAAD,CAAU9D,GAAG,YAGb+D,8BAAiB,CAC5BC,OAASza,GADEwa,CAfiB,SAAC5Y,GAAD,OAC5B4G,EAAAvB,EAAAwB,cAACiS,EAAA,EAAD,KACIlS,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOC,KAAK,qBAAqBC,OAAQ,kBAAMrS,EAAAvB,EAAAwB,cAACqS,GAAoBlZ,MACpE4G,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOC,KAAK,mBAAmBC,OAAQ,kBAAMrS,EAAAvB,EAAAwB,cAACsS,GAAmBnZ,MACjE4G,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOC,KAAK,mBAAmBC,OAAQ,kBAAMrS,EAAAvB,EAAAwB,cAACuS,GAAgBpZ,SCpBjDqZ,eACjB,SAAAA,EAAYrZ,GAAO,IAAAlB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoa,IACfva,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAsa,GAAA3Z,KAAAT,KAAMe,KACDF,MAAQ,CAAEiL,MAAO,KAAMuO,UAAW,MAFxBxa,iFAKDiM,EAAOuO,GACrBra,KAAKyB,SAAS,CACVqK,MAAOA,EACPuO,UAAWA,qCAKf,OAAIra,KAAKa,MAAMwZ,UAEP1S,EAAAvB,EAAAwB,cAAA,WACID,EAAAvB,EAAAwB,cAAA,mCACAD,EAAAvB,EAAAwB,cAAA,WAASU,MAAO,CAAEgS,WAAY,aACzBta,KAAKa,MAAMiL,OAAS9L,KAAKa,MAAMiL,MAAMyO,WACtC5S,EAAAvB,EAAAwB,cAAA,WACC5H,KAAKa,MAAMwZ,UAAUG,iBAK/Bxa,KAAKe,MAAM0Z,gBA1BgBvS,aCQ1CwS,IAASV,OACLrS,EAAAvB,EAAAwB,cAAC+S,GAAD,KACIhT,EAAAvB,EAAAwB,cAACgT,EAAA,EAAD,KACIjT,EAAAvB,EAAAwB,cFHc,SAAC7G,GAAD,OACtB4G,EAAAvB,EAAAwB,cAACiS,EAAA,EAAD,KACIlS,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOe,OAAK,EAACd,KAAK,IAAIC,OAAQ,kBAAMrS,EAAAvB,EAAAwB,cAAC8R,EAAA,EAAD,CAAU9D,GAAG,0BACjDjO,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOC,KAAK,aAAae,UAAWtB,KACpC7R,EAAAvB,EAAAwB,cAACkS,EAAA,EAAD,CAAOC,KAAK,SAASe,UAAWhE,OED5B,QAES5V,SAASC,eAAe,SlBkHvC,kBAAmB6I,WACrBA,UAAU+Q,cAAcC,MAAMpO,KAAK,SAAAqO,GACjCA,EAAaC","file":"static/js/main.61c7c741.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const googleApi = {\n    nearbySearchUrl: \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?\",\n    geocodeUrl: \"https://maps.googleapis.com/maps/api/geocode/json?\",\n    photosUrl: \"https://maps.googleapis.com/maps/api/place/photo?\",\n    mapsUrl: \"https://maps.googleapis.com/maps/api/js?\",\n    apiKey: \"AIzaSyA_h5tnlq-qjVqJVDT8NrusM8eJJ_YTF6s\"\n}\n\n// exmaples:\n// https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=-33.8670522,151.1957362&radius=1500&type=restaurant&keyword=cruise&key=YOUR_API_KEY\n// https://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&key=YOUR_API_KEY","export const mapStyles = [\n    {\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#ebe3cd\"\n            }\n        ]\n    },\n    {\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#523735\"\n            }\n        ]\n    },\n    {\n        \"elementType\": \"labels.text.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#f5f1e6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"administrative\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#c9b2a6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.land_parcel\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#dcd2be\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"administrative.land_parcel\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#ae9e90\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape.natural\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#dfd2ae\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#dfd2ae\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#93817c\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#a5b076\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi.park\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#447530\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#f5f1e6\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#fdfcf8\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.arterial\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#f8c967\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#e9bc62\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway.controlled_access\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#e98d58\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway.controlled_access\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#db8555\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.local\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#806b63\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#dfd2ae\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#8f7d77\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"elementType\": \"labels.text.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#ebe3cd\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.station\",\n        \"elementType\": \"geometry\",\n        \"stylers\": [\n            {\n                \"color\": \"#dfd2ae\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#b9d3c2\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#92998d\"\n            }\n        ]\n    }\n]","import { googleApi } from '../config'\nimport React, { Component } from 'react'\nimport { Map } from 'google-maps-react';\nimport { mapStyles } from '../styles/map-styles'\n\nexport class GoogleMapComponent extends Component {\n    pIds = []\n    state = {\n        places: this.props.places,\n        placesIds: [],\n    }\n    map\n    input = document.getElementById(\"searchCityField\")\n    currentInfoShow = (props, marker, e) => {\n        if (this.state.currentInfoVisible && marker === this.state.currentMarker)\n            this.setState({ currentInfoVisible: false })\n        else {\n            this.setState({\n                currentInfoVisible: true,\n                currentMarker: marker,\n                name: props.name\n            })\n        }\n    }\n    fetchPlaces = (mapProps, map, markerCenter) => {\n        let newCenter = new this.props.google.maps.LatLng(map.center.lat(), map.center.lng())\n\n        if (markerCenter)\n            newCenter = new this.props.google.maps.LatLng(markerCenter.lat, markerCenter.lng)\n\n        this.setState({\n            center: newCenter\n        })\n        const service = new this.props.google.maps.places.PlacesService(map);\n        let requestPlaces\n        if (this.props.query && this.props.query.radius) {\n            requestPlaces = {\n                location: this.state.center,\n                radius: this.props.query.radius,\n                keyword: this.props.query.keyword\n            }\n        }\n        else {\n            requestPlaces = {\n                location: this.state.center,\n                rankBy: this.props.google.maps.places.RankBy.DISTANCE,\n                keyword: this.props.query.keyword\n            }\n        }\n\n        const callbackPlaces = (data) => {\n            data.forEach(d => {\n                if (!this.state.placesIds.includes(d.id))\n                    this.createMarker(d, null, map)\n                this.pIds.push(d.id)\n                let requestDetails = {\n                    placeId: d.place_id,\n                    fields: [\"opening_hours,url\"]\n                }\n                service.getDetails(requestDetails, (det) => {\n                    d[\"opening_hours\"] = det ? det.opening_hours : det\n                    d[\"url\"] = det ? det.url : det\n                })\n            })\n            this.setState({\n                places: data,\n                placesIds: this.pIds\n            })\n\n            this.props.getPlaces(this.state.places)\n        }\n        service.nearbySearch(requestPlaces, callbackPlaces);\n    }\n\n    async createMarker(place, position, map) {\n        let location\n        if (place) {\n            location = { lat: place.geometry.location.lat, lng: place.geometry.location.lng }\n            if (typeof place.geometry.location.lat == \"function\")\n                location = { lat: place.geometry.location.lat(), lng: place.geometry.location.lng() }\n        }\n        let draggable = false\n        if (position && !this.props.type)\n            draggable = true\n        var marker = new window.google.maps.Marker({\n            map: map,\n            position: position || location,\n            draggable: draggable,\n            icon: place ? {\n                url: place.icon, scaledSize: place.id !== this.props.center.place.id ?\n                    new this.props.google.maps.Size(25, 25) : new this.props.google.maps.Size(35, 35)\n            } : null,\n        });\n        var infowindow = new window.google.maps.InfoWindow();\n        window.google.maps.event.addListener(marker, 'click', function () {\n            infowindow.setContent(place ? infoContent(place) : currentLocContent(\"You are here\"));\n            infowindow.open(map, this);\n        });\n        window.google.maps.event.addListener(marker, 'dragend', (e) => {\n            this.fetchPlaces(null, map, { lat: e.latLng.lat(), lng: e.latLng.lng() })\n        });\n    }\n\n    prepareMap = (mapProps, map) => {\n        this.map = map\n        this.setState({\n            places: this.props.places\n        })\n        map.controls[this.props.google.maps.ControlPosition.TOP_RIGHT].push(closeButton(this.props.closeMap));\n        this.prepareAutocomplete(map)\n        this.createMarker(null, this.props.currentPosition, map)\n    }\n\n    prepareMarkers = (map) => {\n        if (this.state.places)\n            this.state.places.forEach(p => {\n                this.createMarker(p, null, map)\n            })\n        else\n            this.props.places.forEach(p => {\n                this.createMarker(p, null, map)\n            })\n\n        this.pIds = []\n    }\n    prepareAutocomplete = (map) => {\n\n        var input = document.getElementById('searchCityField');\n        if (!input)\n            return\n        var autocomplete\n\n        autocomplete = new this.props.google.maps.places.Autocomplete(input, { types: ['(cities)'] })\n        autocomplete.bindTo('bounds', map);\n        var infowindow = new this.props.google.maps.InfoWindow();\n        var infowindowContent = document.getElementById('infowindow-content');\n        infowindow.setContent(infowindowContent);\n        this.props.google.maps.event.addListener(autocomplete, 'place_changed', () => {\n            infowindow.close();\n            var place = autocomplete.getPlace();\n            if (!place.geometry) {\n                return;\n            }\n            this.setState({ autoPlace: { lat: place.geometry.location.lat(), lng: place.geometry.location.lng() } })\n            this.props.setNewLoc(this.state.autoPlace, place.formatted_address)\n\n        })\n    }\n\n    componentDidUpdate = () => {\n        if (this.props.visible) {\n            this.prepareMarkers(this.map)\n        }\n    }\n\n    render() {\n        if (this.props.close) {\n            return <div></div>\n        }\n        return (\n            <div>\n                <div>\n\n                    < Map\n                        google={this.props.google}\n                        zoom={16}\n                        visible={this.props.visible}\n                        initialCenter={this.props.center}\n                        center={this.state.center || this.props.center}\n                        onReady={this.prepareMap}\n                        styles={mapStyles}\n                    >\n                    </Map >\n\n                </div >\n            </div>\n        );\n    }\n}\nconst closeButton = (closeMap) => {\n    let controlBtn = document.createElement(\"div\")\n    let content = document.createElement(\"i\")\n    content.classList = \"window close outline icon\"\n    content.style.color = \"black\"\n    controlBtn.classList = \"ui button big icon\"\n    controlBtn.style.margin = \"10px\"\n    controlBtn.style.padding = \"10px\"\n    controlBtn.style.backgroundColor = \"white\"\n    controlBtn.style.borderRadius = \"0\"\n    controlBtn.appendChild(content)\n    controlBtn.addEventListener(\"click\", closeMap)\n    return (\n        controlBtn\n    )\n}\nconst currentLocContent = (text) => {\n    return `<div class=\"ui card\" style=\"width:100px\">\n                    <div class=\"ui card content\" style=\"padding:3px\">\n                        <div class=\"ui header\">${text}</div>\n                    </div>\n                </div>`\n}\nconst infoContent = (place) => {\n    let src\n    if (place.photos) {\n        const photoreference = place.photos[0].photo_reference\n        if (photoreference)\n            src = `${googleApi.photosUrl}maxwidth=150&photoreference=${photoreference}&key=${googleApi.apiKey}`\n        else\n            src = place.photos[0].getUrl()\n    }\n    let openingHours = [`<div style=\"margin-bottom: 5px\">OPENING HOURS</div>`]\n    if (place.opening_hours && place.opening_hours.weekday_text) {\n        place.opening_hours.weekday_text.forEach(wdt => {\n            openingHours.push(`<div style=\"padding-bottom:2px\">${wdt}</div>`)\n        })\n        openingHours = openingHours.join(\"\")\n    }\n    else {\n        openingHours = `<div>No additional data</div>`\n    }\n    return `<div class=\"ui card\">\n                    <div class=\"ui card content\">\n                        <div class=\"ui header\">${place.name}</div>\n                    </div>\n                    <div class=\"ui card content\">\n                        <strong class=\"segment vertical basic\">${place.vicinity}</strong>\n                        <div class=\"info-image ui segment vertical basic\">\n                            <img width=\"150px\" src=${src}>\n            </div>\n                            <div class=\"ui segment basic vertical\">\n                                ${openingHours}\n                            </div>\n                            <div class=\"ui segment basic vertical\">\n                                <a target=\"_blank\" href=${place.url}><div>View on Google maps <div><a>\n                </div>\n                                </div>\n                                </div>`\n}\n\nexport default GoogleMapComponent\n\n","\nexport default class Config {\n    url\n    constructor() {\n        this.url = `${window.location.protocol}//${window.location.host}/api`\n\n    }\n}\n","import axios from 'axios'\nimport { googleApi } from '../config'\nimport Config from './config'\nexport default class PlacesApi {\n    latitude\n    longitude\n    location\n    constructor() {\n        this.url = new Config().url\n        this.placesUrl = `${this.url}/user/places`\n        this.googleApiNearby = `${this.url}/google-api/nearby-search`\n        this.googleApiDetails = `${this.url}/google-api/details-search`\n    }\n\n    async getCurrentPosition(reset) {\n        if (!reset && this.location) {\n            return this.location\n        }\n        if (navigator.geolocation) {\n            return new Promise((resolve, reject) => {\n                navigator.geolocation.getCurrentPosition(async (position) => {\n                    this.latitude = position.coords.latitude;\n                    this.longitude = position.coords.longitude;\n                    this.location = await this.getByCurrentLocation()\n                    resolve({ location: this.location, lat: this.latitude, lng: this.longitude })\n                },\n                    (err) => reject(err),\n                    { enableHighAccuracy: true, timeout: 5000 })\n            })\n        }\n    }\n    async getByCurrentLocation() {\n        const url = `${googleApi.geocodeUrl}latlng=${this.latitude},${this.longitude}&result_type=locality|country&key=${googleApi.apiKey}`\n        const data = await axios.get(url, {\n            dataType: \"application/json\"\n        })\n        return data.data.results[0].formatted_address\n    }\n\n    async getPlaces(radius, keyword, center) {\n        let lat, lng\n        if (center) {\n            lat = center.lat\n            lng = center.lng\n        }\n        else {\n            lat = this.latitude\n            lng = this.longitude\n        }\n        let url = `${this.googleApiNearby}?lat=${lat}&lng=${lng}&rankby=distance&keyword=${keyword}&key=${googleApi.apiKey}`\n        if (radius && keyword)\n            url = `${this.googleApiNearby}?lat=${lat}&lng=${lng}&radius=${radius}&keyword=${keyword}&key=${googleApi.apiKey}`\n        return axios.get(url, {\n            dataType: \"application/json\"\n        })\n    }\n    async getDetails(placeId, fields) {\n        const url = `${this.googleApiDetails}?place_id=${placeId}&fields=${fields}`\n        return await axios.get(url, {\n            dataType: \"application/json\"\n        })\n    }\n    async savePlace(data) {\n        await axios.post(\n            this.placesUrl,\n            data,\n            {\n                dataType: \"application/json\"\n            })\n    }\n\n    async removePlace(userId, placeId) {\n        await axios.delete(`${this.placesUrl}/${userId}/${placeId}`, {\n            dataType: \"application/json\"\n        })\n    }\n\n    async getPlacesForUser(userId) {\n        return axios.get(`${this.placesUrl}/${userId}`, { dataType: \"application/json\" })\n    }\n}\n","import { NotificationManager } from 'react-notifications';\n\nexport const notify = (type, msg, title, timeout, callback) => {\n\n\n    switch (type) {\n        case 'info':\n            NotificationManager.info(msg, title || 'Info', timeout || 3000, callback || null);\n            break;\n        case 'success':\n            NotificationManager.success(msg, title || 'Sucess!', timeout || 3000, callback || null);\n            break;\n        case 'warning':\n            NotificationManager.warning(msg, title || \"Warning!\", timeout || 3000, callback || null);\n            break;\n        case 'error':\n            NotificationManager.error(msg, title || \"Error!\", timeout || 3000, callback || null\n            );\n            break;\n        default: break;\n    }\n\n}","import React, { Component } from 'react';\nimport { Segment, Icon, Grid, Image, Card, Button, Pagination, Input, GridColumn, Label } from 'semantic-ui-react';\nimport { googleApi } from \"../config\"\nimport * as _ from 'lodash'\nimport PlacesApi from '../services/places';\nimport { notify } from '../services/notifications';\nimport { PropTypes } from 'prop-types';\n\nexport default class Cards extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.placesApi = new PlacesApi()\n        this.state = {\n            items: 3,\n            savedPlaces: [],\n            placesList: this.props.placesList,\n            pages: [],\n            activePage: 1,\n            itemsPerPage: 6\n        }\n    }\n\n    placesListCount\n    colors = [\"yellow\", \"orange\", \"blue\", \"green\", \"red\"]\n    pages = []\n    setCardNums = () => {\n        if (window.innerWidth < 650)\n            this.setState({\n                items: 1\n            })\n        else if (window.innerWidth < 1200) {\n            this.setState({\n                items: 2\n            })\n        }\n        else\n            this.setState({ items: 3 })\n    }\n\n    savePlace = (pid, e) => {\n        const savedPlaces = this.state.savedPlaces\n        this.placesApi.savePlace({ user_id: localStorage.getItem(\"user_id\"), place_id: pid })\n            .then(() => notify(\"success\", \"Place saved.\"))\n        savedPlaces.push(pid)\n        this.setState({\n            savedPlaces: savedPlaces\n        })\n        e.target.disabled = true\n\n    }\n\n    removePlace = (pid, e) => {\n        this.placesApi.removePlace(localStorage.getItem(\"user_id\"), pid)\n            .then(() => notify(\"success\", \"Place removed.\"))\n        this.props.updatePlaces(pid)\n        if (this.state.activePage > Math.ceil(this.placesListCount / parseInt(this.state.itemsPerPage)))\n            this.setState({ activePage: Math.ceil(this.placesListCount / parseInt(this.state.itemsPerPage)) })\n    }\n\n    paginate = (list, activePage, offset) => {\n        offset = parseInt(offset)\n        activePage = parseInt(activePage)\n        const start = activePage * offset - offset\n        const end = start + offset > list.length ? list.length : start + offset\n        const newList = list.slice(start, end)\n        return newList\n    }\n\n    componentWillMount = () => {\n        this.setCardNums()\n        window.addEventListener(\"resize\", (ev) => {\n            this.setCardNums()\n        })\n        this.placesApi.getPlacesForUser(localStorage.getItem(\"user_id\"))\n            .then(res => {\n                res.data.data.forEach(d => {\n                    this.state.savedPlaces.push(d.place_id)\n                })\n            })\n        if (this.props.type === \"save\")\n            this.setState({ placesList: this.state.savedPlaces })\n    }\n    handlePageChange = (p, e) => {\n        this.setState({\n            activePage: e.activePage\n        })\n    }\n    handleItemsPerPageChange = (e) => {\n        this.setState({\n            itemsPerPage: e.target.value\n        })\n        if (this.state.activePage > Math.ceil(this.placesListCount / parseInt(e.target.value)))\n            this.setState({ activePage: Math.ceil(this.placesListCount / parseInt(e.target.value)) })\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", (ev) => {\n            this.setCardNums()\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.placesList &&\n            nextProps.placesList.length / this.state.itemsPerPage <= 1) {\n            this.setState({ activePage: 1 })\n        }\n    }\n\n    render() {\n        if (!this.props.placesList || this.props.placesList.length === 0)\n            return (\n\n                <div style={{ textAlign: \"center\" }}>No places found.</div>)\n        else {\n            this.pages = this.paginate(this.props.placesList, this.state.activePage, this.state.itemsPerPage)\n            this.placesListCount = this.props.placesList.length\n            this.totalPages = Math.ceil(this.placesListCount / this.state.itemsPerPage)\n            return (\n                <div>\n                    <div style={{ marginBottom: \"14px\" }}>\n                        <Pagination\n                            activePage={this.state.activePage}\n                            totalPages={this.totalPages}\n                            onPageChange={this.handlePageChange.bind(this)\n                            }\n                        />\n                    </div>\n                    <Grid columns={2}>\n                        <GridColumn>\n                            <Label color=\"teal\" size=\"large\">{`Total items: ${this.placesListCount}`}</Label>\n                        </GridColumn>\n                        <GridColumn textAlign=\"right\" >\n                            <Input\n                                name=\"rows\"\n                                type=\"number\"\n                                label={{ content: \"Max Items\", color: \"teal\" }}\n                                value={this.state.itemsPerPage}\n                                min=\"1\"\n                                max={this.placesListCount}\n                                onChange={this.handleItemsPerPageChange}\n                                float=\"right\"\n                            >\n                            </Input>\n\n                        </GridColumn>\n                    </Grid>\n\n                    <CardList {...this.props}\n                        pages={this.pages}\n                        savedPlaces={this.state.savedPlaces}\n                        savePlace={this.savePlace}\n                        removePlace={this.removePlace}\n                        items={this.state.items}\n                    ></CardList>\n                </div >\n            )\n        }\n    }\n}\n\n\nconst CurrentStatus = (props) => {\n    if (props.hasOwnProperty(\"opened\") && props.opened === \"OPENED\")\n        return (<p style={{ color: \"green\" }}>OPENED</p>)\n    else if (props.hasOwnProperty(\"opened\") && props.opened === \"CLOSED\")\n        return (<p style={{ color: \"red\" }}>CLOSED</p>)\n    else return (<p>?</p>)\n}\n\nconst SaveOrRemoveBut = (props) => {\n    if (props.type !== \"save\") {\n        return (<Button compact icon={{ name: \"save\" }} disabled={props.disabled} color={props.saveButtonColor} onClick={props.savePlace}></Button>)\n    }\n    else {\n        return (<Button compact icon={{ name: \"circle remove\" }} color=\"red\" onClick={props.removePlace}></Button>)\n    }\n}\n\nconst CardList = (props) => {\n    const colors = [\"yellow\", \"orange\", \"blue\", \"green\", \"red\"]\n    return (\n\n        < Card.Group itemsPerRow={props.items} >\n            {\n                props.pages.map(p => {\n\n                    const lat = p.geometry.location.lat\n                    const lng = p.geometry.location.lng\n                    const color = _.sample(colors)\n                    const imageSize = 100\n                    let openedNow = \"?\"\n                    let src = \"\"\n                    let saveButtonColor = \"orange\"\n                    let disabled = false\n                    if (props.savedPlaces.includes(p.place_id)) {\n                        disabled = true\n                    }\n                    if (p.photos) {\n                        const photoreference = p.photos[0].photo_reference\n                        if (photoreference)\n                            src = `${googleApi.photosUrl}maxwidth=200&photoreference=${photoreference}&key=${googleApi.apiKey}`\n                        else\n                            src = p.photos[0].getUrl()\n                    }\n                    if (p.opening_hours && p.opening_hours.open_now)\n                        openedNow = \"OPENED\"\n                    if (p.opening_hours && !p.opening_hours.open_now)\n                        openedNow = \"CLOSED\"\n                    return (\n                        <Card color={color} key={p.id}>\n                            <Card.Content>\n                                <Card.Header >\n                                    <Grid columns={2}>\n                                        <Grid.Column width={12}>\n                                            {p.name}\n\n                                        </Grid.Column>\n                                        <Grid.Column textAlign=\"right\" width={4}>\n                                            <Image size=\"mini\" src={p.icon}></Image>\n                                        </Grid.Column>\n                                    </Grid>\n                                </Card.Header>\n                            </Card.Content>\n                            <Card.Content>\n                                <Grid columns={2} height=\"100%\">\n                                    <Grid.Column verticalAlign=\"middle\">\n\n                                        <Card.Meta >\n                                            <Icon name=\"star\"></Icon>\n                                            {p.rating}\n                                        </Card.Meta>\n\n                                        <Segment vertical basic compact style={{ paddingBottom: 0 }}>\n                                            <Card.Description>\n                                                {p.vicinity}\n                                                <CurrentStatus opened={openedNow}></CurrentStatus>\n                                            </Card.Description>\n                                        </Segment>\n                                        <Segment basic vertical style={{ paddingBottom: 0 }}>\n                                            <Icon onClick={props.showMap.bind(this, lat, lng, p)} className=\"map-icon\" title=\"Map\" name=\"map\" color=\"blue\"></Icon>\n                                        </Segment>\n                                    </Grid.Column>\n                                    <Grid.Column>\n                                        <span style={{ borderRadius: \"5px\", height: imageSize + \"px\", float: \"right\", overflow: \"hidden\" }} >\n                                            <Image src={src} size=\"small\" rounded></Image>\n                                        </span>\n                                    </Grid.Column>\n                                </Grid>\n                                <Segment basic vertical textAlign=\"right\" style={{ marginBottom: 0 }}>\n                                    <SaveOrRemoveBut placeId={p.place_id} removePlace={props.removePlace.bind(this, p.place_id)} savePlace={props.savePlace.bind(this, p.place_id)} type={props.type} saveButtonColor={saveButtonColor} disabled={disabled}></SaveOrRemoveBut>\n                                </Segment>\n                            </Card.Content>\n                        </Card>)\n                }\n                )\n            }\n        </Card.Group >)\n}\n\nCardList.propTypes = {\n    placesList: PropTypes.arrayOf(PropTypes.object).isRequired,\n    items: PropTypes.number.isRequired,\n    savedPlaces: PropTypes.arrayOf(PropTypes.string).isRequired,\n    savePlace: PropTypes.func.isRequired,\n    removePlace: PropTypes.func.isRequired\n}","import React, { Component } from 'react';\nimport GoogleMapComponent from './GoogleMapComponent';\nimport Cards from './Cards';\n\nexport default class PlacesList extends Component {\n\n    colors = [\"blue\", \"purple\", \"orange\", \"red\", \"yellow\"]\n    items = 3\n    state = {\n        items: 3,\n        lat: this.props.currentPosition.lat,\n        lng: this.props.currentPosition.lng,\n        mapVisible: false,\n        close: false\n    }\n    showMap = (lat, lng, place) => {\n        if (typeof lat == \"function\") {\n            lat = lat()\n            lng = lng()\n        }\n        if (this.state.mapVisible) {\n            this.setState({\n                mapVisible: false\n            })\n        } else {\n            this.setState({\n                lat: lat,\n                lng: lng,\n                mapVisible: true,\n                place: place,\n                close: false\n            })\n        }\n    }\n\n    closeMap = (e, map) => {\n        this.setState({\n            mapVisible: false,\n            close: true\n        })\n    }\n\n    setNewLoc = (loc) => {\n        this.props.setNewLoc({ lat: loc.lat, lng: loc.lng })\n    }\n\n    render() {\n        if (this.props.currentPosition.lat ||  (this.props.componentType===\"SAVED\" || this.props.componentType===\"OTHER\") )\n            return (\n                <div>\n                    <div hidden={!this.state.mapVisible} className=\"map-container \">\n\n                        <GoogleMapComponent\n                            {...this.props}\n                            type={this.props.type}\n                            visible={this.state.mapVisible}\n                            center={{ lat: this.state.lat, lng: this.state.lng, place: this.state.place }}\n                            places={this.props.placesList}\n                            currentPosition={this.props.currentPosition}\n                            resetMap={this.resetMap}\n                            loading={true}\n                            closeMap={this.closeMap}\n                            getPlaces={this.props.getPlaces}\n                            close={this.state.close}\n                            setNewLoc={this.props.setNewLoc}\n                        >\n\n                        </GoogleMapComponent>\n                    </div>\n                    <Cards\n                        type={this.props.type}\n                        placesList={this.props.placesList}\n                        userPlaces={this.state.userPlaces}\n                        showMap={this.showMap}\n                        updatePlaces={this.props.updatePlaces}\n                    ></Cards>\n\n                </div >\n            )\n        else\n            return (<p style={{textAlign:\"center\"}}>Unable to list places</p>)\n    }\n}\n\n","import React, { Component } from 'react';\nimport { Segment, Input, Icon, Form, Grid, GridColumn, Button, Header } from 'semantic-ui-react';\nimport PlacesList from '../components/PlacesList';\nimport PlacesApi from \"../services/places\"\nimport { notify } from '../services/notifications'\n\nclass CurrentLocation extends Component {\n\n    state = {\n        loading: true,\n        position: \"Unknown\",\n        mapVisible: false,\n        lat: null,\n        lng: null\n    }\n    constructor() {\n        super()\n        this.gma = new PlacesApi()\n    }\n\n    getFormData = (data) => {\n        this.setState(data)\n    }\n\n    getPosition = (reset) => {\n        this.setState({ loading: true })\n        this.gma.getCurrentPosition(reset).then(data => {\n            this.setState({\n                loading: false,\n                position: data.location,\n                lat: data.lat,\n                lng: data.lng\n            })\n        }).catch(err => {\n            notify(\"error\", err.message)\n            this.setState({ loading: false })\n        })\n    }\n    getPlacesFromMap = (places) => {\n        this.setState({\n            filteredPlaces: places,\n            placesList: places\n        })\n    }\n\n    getPlaces = (data) => {\n        this.setState({ loadingPlaces: true })\n        this.gma.getPlaces(data.radius, data.keyword, { lat: this.state.lat, lng: this.state.lng })\n            .then((data) => {\n                let placesList = data.data.data\n                placesList.forEach(p => {\n                    this.gma.getDetails(p.place_id, \"opening_hours,url\")\n                        .then(d => {\n                            p[\"opening_hours\"] = d.data && d.data.data ? d.data.data.opening_hours : null\n                            p[\"url\"] = d.data && d.data.data ? d.data.data.url : null\n                        }).catch(err => {\n                            notify(\"error\", err.message)\n                            this.setState({ loadingPlaces: false })\n                        })\n                })\n                this.setState({\n                    loadingPlaces: false,\n                    placesList: placesList,\n                    filteredPlaces: placesList\n                })\n            }).catch(err => {\n                notify(\"error\", err.message)\n                this.setState({ loadingPlaces: false })\n            })\n        this.setState({\n            query: data\n        })\n    }\n\n    handleSearch = (value) => {\n        let filteredPlaces = this.state.placesList ? this.state.placesList.filter((pl) => pl.name.toLowerCase().match(value.toLowerCase())) : null\n        this.setState({\n            filteredPlaces: filteredPlaces\n        })\n    }\n\n    componentWillMount() {\n        this.getPosition(false)\n    }\n    render() {\n        return (\n            <Segment.Group>\n                <Segment textAlign=\"center\" loading={this.state.loading}>\n                    <CurrentPositionView\n                        location={this.state.position}\n                        resetPosition={this.getPosition}>\n                    </CurrentPositionView>\n                </Segment>\n                <Segment>\n                    <SearchCurrentForm getPlaces={this.getPlaces} onSearch={this.handleSearch}></SearchCurrentForm>\n                </Segment>\n                <Segment loading={this.state.loadingPlaces}>\n                    <PlacesList\n                        {...this.props}\n                        query={this.state.query}\n                        placesList={this.state.filteredPlaces}\n                        getPlaces={this.getPlacesFromMap}\n                        currentPosition={{ lat: this.state.lat, lng: this.state.lng }}\n                    ></PlacesList>\n\n                </Segment>\n            </Segment.Group >\n        );\n    }\n}\n\nexport default CurrentLocation;\n\nclass CurrentPositionView extends Component {\n    reset = (e) => {\n        e.preventDefault()\n        this.props.resetPosition(true)\n    }\n    render() {\n        return (\n            <div >\n                <Header style={{ opacity: 1 }} size=\"medium\" icon>\n                    <Icon name=\"building\" size=\"small\"></Icon>\n                    {this.props.location}\n                </Header>\n            </div>\n        )\n    }\n}\n\nclass SearchCurrentForm extends Component {\n\n    state = {\n        keyword: \"\",\n        radius: \"300\"\n    }\n\n    handleSearch = (e) => {\n        this.props.onSearch(e.target.value)\n    }\n    handlePlaceChange = (e) => {\n        this.setState({\n            keyword: e.target.value\n        })\n    }\n    handleRadiusChange = (e) => {\n        this.setState({\n            radius: e.target.value\n        })\n    }\n    handleSubmit = () => {\n        this.props.getPlaces(this.state)\n    }\n    render() {\n        return (\n            <Form onSubmit={this.handleSubmit.bind(this)} >\n                <Form.Group widths=\"2\">\n                    <Form.Field>\n                        <Input\n                            onChange={this.handlePlaceChange.bind(this)}\n                            icon='building'\n                            iconPosition='left'\n                            placeholder='keyword (e.g. karaoke, library...)'\n                            value={this.state.keyword} />\n                    </Form.Field>\n                    <Form.Field>\n                        <Input\n                            onChange={this.handleRadiusChange.bind(this)}\n                            type=\"number\"\n                            min=\"50\"\n                            step=\"50\"\n                            label=\"m\"\n                            labelPosition=\"right\"\n                            icon='location arrow'\n                            iconPosition='left'\n                            value={this.state.radius}\n                            placeholder='Set radius (m)' />\n                    </Form.Field>\n                </Form.Group>\n                <Grid columns={2}>\n                    <GridColumn>\n                        <Button icon color=\"orange\" labelPosition='left' disabled={!this.state.keyword}>\n                            <Icon name='location arrow' />\n                            Go\n                </Button>\n                    </GridColumn>\n                    <GridColumn textAlign=\"right\">\n                        <div className='ui transparent icon input' >\n                            <Input\n                                icon='search'\n                                iconPosition='left'\n                                placeholder='Search...'\n                                className='prompt'\n                                floated=\"right\"\n                                onChange={this.handleSearch.bind(this)}\n                            />\n                        </div>\n                    </GridColumn>\n                </Grid>\n            </Form>\n        )\n    }\n\n}\n\n","import axios from 'axios'\n\n\nimport Config from \"./config\"\n\nexport default class LoginService {\n\n    tokenPrefix = \"Bearer\"\n    token\n    username\n\n    constructor() {\n        this.url = new Config().url\n    }\n\n    createUser(userCredentials) {\n        return axios.post(this.url + \"/users\", { userCredentials })\n            .then(data => data)\n            .catch(err => Promise.reject(err))\n    }\n\n    signIn(userCredentials) {\n        return axios.post(this.url + \"/auth/signin\", { userCredentials })\n            .then(data => {\n                localStorage.setItem(\"user_id\", data.data.user._id)\n                localStorage.setItem(\"user_name\", data.data.user.name)\n                this.username = data.data.user.name\n                this.token = data.data.token\n                return data\n            })\n            .catch(err => Promise.reject(err))\n    }\n}","import React, { Component } from 'react';\nimport \"semantic-ui-css/semantic.min.css\"\nimport { Menu, Dropdown, Icon } from \"semantic-ui-react\"\nimport { Link } from 'react-router-dom'\nimport LoginService from '../services/login';\n\n\nclass Navigation extends Component {\n  constructor(props) {\n    super(props)\n\n    this.loginService = new LoginService()\n    this.state = {\n      username: localStorage.getItem(\"user_name\")\n    }\n  }\n  render() {\n    return (\n      <Menu attached=\"top\">\n        <Dropdown text=\"Menu\" item>\n          <Dropdown.Menu>\n            <Dropdown.Item as={Link} to=\"/locations/current\">\n              Current Location\n              </Dropdown.Item>\n            <Dropdown.Item as={Link} to=\"/locations/other\">\n              Other Locations\n              </Dropdown.Item>\n            <Dropdown.Item as={Link} to=\"/locations/saved\">Saved Places</Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n        <Menu.Item position=\"right\">\n          <Dropdown text={this.state.username ? <div><Icon name=\"user\"></Icon>{` ${this.state.username}`}</div> : null}>\n            <Dropdown.Menu className=\"rightDropdown\">\n              <Dropdown.Item\n                as={Link} to=\"/login\">\n                Logout\n          </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n      </Menu >\n\n    );\n  }\n}\n\nexport default Navigation;\n","import React, { Component } from 'react';\nimport { Container } from 'semantic-ui-react';\nimport Navigation from '../components/Navigation';\nimport NavigationRoutes from '../routes'\nimport { NotificationContainer } from 'react-notifications'\n\nclass App extends Component {\n    render() {\n        return (\n            <Container className=\"main-container\">\n                <Navigation></Navigation>\n                <NavigationRoutes></NavigationRoutes>\n                <NotificationContainer />\n            </Container>\n        );\n    }\n}\n\nexport default App\n","import React, { Component } from 'react';\nimport { Segment, Form, Input, Button, Grid, GridColumn, Icon, Header } from 'semantic-ui-react'\nimport PlacesList from '../components/PlacesList'\nimport PlacesApi from '../services/places'\n\nimport { notify } from '../services/notifications'\nclass OtherLocations extends Component {\n    constructor() {\n        super()\n        this.gma = new PlacesApi()\n    }\n\n    getPosition = (reset) => {\n        this.setState({ loading: true })\n        this.gma.getCurrentPosition(reset).then(data => {\n            this.setState({\n                loading: false,\n                location: data.location,\n                lat: data.lat,\n                lng: data.lng\n            })\n        }).catch(err => {\n            notify(\"error\", err.message)\n            this.setState({ loading: false })\n        })\n    }\n    setNewLoc = (loc, newPlace) => {\n        this.setState({ lat: loc.lat, lng: loc.lng })\n        this.setState({ location: newPlace })\n\n    }\n    state = {\n        loading: false,\n        location: \"Unknown\"\n    }\n\n    getPlaces = (data) => {\n        this.setState({ loadingPlaces: true })\n        this.gma.getPlaces(data.radius, data.keyword, { lat: this.state.lat, lng: this.state.lng })\n            .then((data) => {\n                let placesList = data.data.data\n                placesList.forEach(p => {\n                    this.gma.getDetails(p.place_id, \"opening_hours,url\")\n                        .then(d => {\n                            p[\"opening_hours\"] = d.data && d.data.data ? d.data.data.opening_hours : null\n                            p[\"url\"] = d.data && d.data.data ? d.data.data.url : null\n                        }).catch(err => {\n                            notify(\"error\", err.message)\n                            this.setState({ loadingPlaces: false })\n                        })\n                })\n                this.setState({\n                    loadingPlaces: false,\n                    placesList: placesList,\n                    filteredPlaces: placesList\n                })\n            }).catch(err => {\n                notify(\"error\", err.message)\n                this.setState({ loadingPlaces: false })\n            })\n        this.setState({\n            query: data\n        })\n    }\n\n    handleSearch = (value) => {\n        const filteredPlaces = this.state.placesList ? this.state.placesList.filter((pl) => pl.name.toLowerCase().match(value.toLowerCase())) : null\n        this.setState({\n            filteredPlaces: filteredPlaces\n        })\n    }\n    getPlacesFromMap = (places) => {\n        this.setState({\n            filteredPlaces: places,\n            placesList: places\n        })\n    }\n    componentWillMount() {\n        this.getPosition(false)\n    }\n\n    onKeyword = (keyword) => {\n        this.setState({ query: { keyword: keyword } })\n    }\n\n    render() {\n        return (\n            <Segment.Group >\n                <Segment textAlign=\"center\" loading={this.state.loading}>\n                    <OtherLocationsView\n                        location={this.state.location}\n                    >\n                    </OtherLocationsView>\n                </Segment>\n                <Segment>\n                    <SearchOtherForm onKeyword={this.onKeyword} findPlaces={this.getPlaces} onSearch={this.handleSearch}></SearchOtherForm>\n                </Segment>\n                <Segment loading={this.state.loadingPlaces}>\n                    <PlacesList\n                        {...this.props}\n                        componentType={\"OTHER\"}\n                        setNewLoc={this.setNewLoc}\n                        query={this.state.query}\n                        placesList={this.state.filteredPlaces}\n                        getPlaces={this.getPlacesFromMap}\n                        currentPosition={{ lat: this.state.lat, lng: this.state.lng }}\n                    ></PlacesList>\n                </Segment>\n            </Segment.Group >\n        );\n    }\n}\n\nexport default OtherLocations;\nclass SearchOtherForm extends Component {\n\n    state = {\n        city: \"\",\n        keyword: \"\"\n    }\n\n    handleSearch = (e) => {\n        this.props.onSearch(e.target.value)\n    }\n    handlePlaceChange = (e) => {\n        this.setState({ keyword: e.target.value })\n    }\n\n    handleCityChange = (e) => {\n        this.setState({\n            city: e.target.value\n        })\n    }\n\n    handleSubmit = () => {\n        this.props.findPlaces(this.state)\n    }\n    render() {\n        return (\n            <Form onSubmit={this.handleSubmit.bind(this)} >\n                <Form.Group widths=\"2\">\n                    <Form.Field>\n                        <Input\n                            onChange={this.handlePlaceChange.bind(this)}\n                            icon='building'\n                            iconPosition='left'\n                            placeholder='keyword (e.g. karaoke, library...)'\n                            value={this.state.keyword} />\n                    </Form.Field>\n\n                    <Form.Field>\n                        <Input\n                            id=\"searchCityField\"\n                            type=\"text\"\n                            ref={ref => (this.autocomplete = ref)}\n                            placeholder='Search cities'\n                        />\n\n                    </Form.Field>\n                    <div id=\"infowindow-content\"></div>\n                </Form.Group>\n                <Grid columns={2}>\n                    <GridColumn>\n                        <Button icon color=\"orange\" labelPosition='left' disabled={!this.state.keyword}>\n                            <Icon name='location arrow' />\n                            Go\n                </Button>\n                    </GridColumn>\n                    <GridColumn textAlign=\"right\">\n                        <div className='ui transparent icon input' >\n                            <Input\n                                icon='search'\n                                iconPosition='left'\n                                placeholder='Search...'\n                                className='prompt'\n                                floated=\"right\"\n                                onChange={this.handleSearch.bind(this)}\n                            />\n                        </div>\n                    </GridColumn>\n                </Grid>\n            </Form>\n        )\n    }\n\n}\nclass OtherLocationsView extends Component {\n\n    render() {\n        return (\n            <div>\n                <Header size=\"medium\" icon>\n                    <Icon name=\"building\" size=\"small\"></Icon>\n                    {this.props.location}\n                </Header>\n\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport { Container, Button, Header, Form, Segment, Divider, Input, Grid, GridColumn } from 'semantic-ui-react';\nimport LoginService from '../services/login'\nimport { notify } from '../services/notifications';\nimport { NotificationContainer } from 'react-notifications'\n\n\nclass LoginPage extends Component {\n\n    constructor() {\n        super()\n        this.loginService = new LoginService()\n    }\n\n    state = {\n        buttonColorCreateNew: \"yellow\",\n        buttonColorSignIn: \"orange\",\n        type: \"signIn\"\n    }\n    login = (username, password) => {\n        const userCredentials = {\n            username: username,\n            password: password\n        }\n        if (this.state.type === \"signIn\") {\n            this.loginService.signIn(userCredentials)\n                .then(\n                    data => {\n                        this.props.history.push(\"/\")\n                        notify(\"success\", `Welcome ${data.data.user.name}!`)\n                    },\n                ).catch(err => {\n                    console.log(err)\n                    notify(\"error\", (err.response && err.response.data.error) || err.message)\n                })\n        }\n        else if (this.state.type === \"createNew\") {\n            this.loginService.createUser(userCredentials)\n                .then(\n                    data => {\n                        this.setState({\n                            type: \"signIn\"\n                        })\n\n                        notify(\"success\", data.data.message)\n                    },\n                ).catch(err => {\n\n                    notify(\"error\", (err.response && err.response.data.error) || err.message)\n                })\n        }\n    };\n\n    selectSignIn = (type) => {\n        this.setState({\n            buttonColorSignIn: \"orange\",\n            buttonColorCreateNew: \"yellow\",\n            type: \"signIn\"\n        })\n    }\n\n    selectLogIn = (type) => {\n        this.setState({\n            buttonColorSignIn: \"yellow\",\n            buttonColorCreateNew: \"orange\",\n            type: \"createNew\"\n        })\n    }\n    componentWillMount = () => {\n        localStorage.clear()\n    }\n\n    render() {\n        return (\n            <Container text style={{ marginTop: \"50px\" }}>\n                <Segment size=\"tiny\" >\n                    <Grid columns={3}>\n                        <GridColumn>\n\n                        </GridColumn>\n                        <GridColumn>\n                            <Header textAlign=\"center\" size=\"large\" >\n                                {this.state.type === \"signIn\" ? \"Sign In\" : \"Register\"}\n\n                            </Header>\n                        </GridColumn>\n                        <GridColumn textAlign=\"right\">\n                            <Button color={this.state.buttonColorSignIn} onClick={this.selectSignIn}>\n                                Sign In\n                            </Button >\n                            <Button color={this.state.buttonColorCreateNew} onClick={this.selectLogIn}>\n                                Register\n                            </Button>\n                        </GridColumn>\n                    </Grid>\n                    <Divider></Divider>\n                    <LoginForm login={this.login} type={this.state.type}></LoginForm>\n                </Segment>\n                <NotificationContainer></NotificationContainer>\n            </Container>\n        );\n    }\n}\n\nexport default LoginPage;\nclass LoginForm extends Component {\n\n    state = {\n        username: \"\",\n        password: \"\",\n        passInputType: \"password\"\n    }\n\n\n    handleUserChange = (e) => {\n        this.setState({\n            username: e.target.value\n        })\n    }\n    handlePasswordChange = (e) => {\n        this.setState({\n            password: e.target.value\n        })\n    }\n    handleSubmit = () => {\n        this.props.login(this.state.username, this.state.password)\n    }\n\n    changePassType = () => {\n        if (this.state.passInputType === \"password\")\n            this.setState({ passInputType: \"text\" })\n        else\n            this.setState({ passInputType: \"password\" })\n    }\n    render() {\n        return (\n\n            <Form onSubmit={this.handleSubmit.bind(this)} >\n\n                <Form.Field>\n                    <label basic=\"true\" >Username</label>\n                    <Input\n                        onChange={this.handleUserChange.bind(this)}\n                        icon='user circle'\n                        placeholder='Choose username'\n                        value={this.state.username} />\n                </Form.Field>\n                <Form.Field>\n                    <label basic=\"true\">Password</label>\n                    <Input\n                        onChange={this.handlePasswordChange.bind(this)}\n                        type={this.state.passInputType}\n                        value={this.state.password}\n                        placeholder='Choose password' >\n                        <input />\n                        <Button basic type=\"button\" onClick={this.changePassType} icon=\"eye\"></Button>\n\n                    </Input>\n                </Form.Field>\n\n                <Segment textAlign=\"center\" basic>\n                    <Button color=\"teal\" disabled={!this.state.username || !this.state.password}>\n\n                    {this.props.type === \"signIn\" ? \"Sign In\" : \"Register\"}\n                </Button>\n\n                </Segment>\n            </Form>\n\n        )\n    }\n\n}\n","import React, { Component } from 'react';\nimport { Segment, Input, Select, Header, Icon, Form } from 'semantic-ui-react';\nimport PlacesList from '../components/PlacesList';\nimport PlacesApi from \"../services/places\"\nimport _ from \"lodash\"\n\nexport class SavedPlaces extends Component {\n\n    state = {\n        loadingPlaces: true,\n        filteredPlaces: [],\n        placesList: [],\n        citiesList: []\n    }\n    constructor() {\n        super()\n        this.gma = new PlacesApi()\n    }\n\n    handleSearch = (value) => {\n        let filteredPlaces = this.state.filteredCities ? this.state.filteredCities.filter((pl) => pl.name.toLowerCase().match(value.toLowerCase())) : null\n        this.setState({\n            filteredPlaces: filteredPlaces\n        })\n    }\n\n    filterCities = ($e, $e2) => {\n        if ($e2.value === \"all\") {\n            return this.setState({\n                filteredPlaces: this.state.placesList,\n                filteredCities: this.state.placesList,\n            })\n        }\n        let filteredCities = this.state.placesList ? this.state.placesList.filter((pl) => pl.city.match($e2.value)) : null\n        this.setState({\n            filteredPlaces: filteredCities,\n            filteredCities: filteredCities\n        })\n    }\n    updatePlaces = (pid) => {\n        let filteredPlaces = this.state.filteredPlaces.filter(fp => fp.place_id !== pid)\n        let placesList = this.state.placesList.filter(fp => fp.place_id !== pid)\n        this.setState({\n            filteredPlaces: filteredPlaces,\n            placesList\n        })\n    }\n    componentWillMount = () => {\n        this.gma.getPlacesForUser(localStorage.getItem(\"user_id\"))\n            .then(data => {\n                let placesList = []\n                let citiesList = [{ \"key\": \"all\", \"text\": \"All\", \"flag\": \"eu\", \"value\": \"all\" }]\n                if (data.data.data.length === 0) {\n                    return this.setState({\n                        placesList: placesList,\n                        filteredPlaces: placesList,\n                        loadingPlaces: false,\n\n                    })\n\n                }\n                data.data.data.forEach((d, i) => {\n                    let requestDetails = {\n                        placeId: d.place_id,\n                        fields: []\n                    }\n                    this.gma.getDetails(requestDetails.placeId, requestDetails.fields).then((det) => {\n\n                        const city = det.data.data.address_components.find(ac => ac.types.includes(\"locality\") || ac.types.includes(\"postal_town\")).long_name\n                        const country = det.data.data.address_components.find(ac => ac.types.includes(\"country\")).long_name.toLowerCase()\n                        citiesList.push({ \"key\": i, \"text\": city, \"flag\": country, \"value\": city })\n                        placesList.push(Object.assign(det.data.data, { city: city }))\n                        if (placesList.length === data.data.data.length) {\n                            this.setState({\n                                placesList: placesList,\n                                filteredPlaces: placesList,\n                                filteredCities: placesList,\n                                loadingPlaces: false,\n                                citiesList: _.uniqBy(citiesList, \"text\")\n                            })\n                        }\n                    })\n                })\n            })\n    }\n\n    render() {\n        return (\n            <Segment.Group >\n                <Segment textAlign=\"center\" >\n                    <Header size=\"medium\" icon>\n                        <Icon name=\"save\" size=\"small\"></Icon>\n                        Saved Places\n                </Header>\n                </Segment>\n                {this.state.citiesList.length > 0 ? <Segment >\n                    <SearchBar filterCities={this.filterCities} citiesList={this.state.citiesList} onSearch={this.handleSearch} />\n                </Segment> : null}\n                <Segment loading={this.state.loadingPlaces}>\n                    <PlacesList\n                        {...this.props}\n                        updatePlaces={this.updatePlaces}\n                        type={\"save\"}\n                        componentType={\"SAVED\"}\n                        setNewLoc={this.setNewLoc}\n                        query={this.state.query}\n                        placesList={this.state.filteredPlaces}\n                        getPlaces={this.getPlacesFromMap}\n                        currentPosition={{ lat: this.state.lat, lng: this.state.lng }}\n                    ></PlacesList>\n                </Segment>\n            </Segment.Group >\n        );\n    }\n}\n\nconst SearchBar = (props) => {\n    const handleSearch = (e) => {\n        props.onSearch(e.target.value)\n    }\n\n    return (\n        <Form>\n            <Form.Group widths=\"2\">\n                <Form.Field>\n                    <Select onChange={props.filterCities} style={{ marginRight: \"14px\" }} placeholder=\"Select City\" options={props.citiesList}></Select>\n                </Form.Field>\n                <Form.Field>\n                    <Input\n                        icon='search'\n                        iconPosition='left'\n                        placeholder='Search...'\n                        className='prompt'\n                        floated=\"right\"\n                        onChange={handleSearch}\n                    />\n                </Form.Field>\n            </Form.Group>\n        </Form>\n\n    )\n}\n\n\nexport default SavedPlaces\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport CurrentLocation from './containers/CurrentLocation'\nimport App from './containers/App';\nimport OtherLocations from './containers/OtherLocations';\nimport LoginPage from './containers/LoginPage'\nimport { SavedPlaces } from './containers/savedPlaces';\nimport { googleApi } from './config'\nimport { GoogleApiWrapper } from 'google-maps-react';\n\nexport const MainRoutes = (props) => (\n    <Switch>\n        <Route exact path=\"/\" render={() => <Redirect to=\"/locations/current\"></Redirect>}></Route>\n        <Route path='/locations' component={authGuard} />\n        <Route path='/login' component={LoginPage} />\n    </Switch>\n)\n\nexport const NavigationRoutes = (props) => (\n    <Switch>\n        <Route path='/locations/current' render={() => <CurrentLocation {...props} />} />\n        <Route path='/locations/other' render={() => <OtherLocations {...props} />} />\n        <Route path='/locations/saved' render={() => <SavedPlaces {...props} />} />\n    </Switch>\n)\n\nconst authGuard = (props) => {\n    if (localStorage.getItem(\"user_name\"))\n        return <App></App>\n    else {\n        return <Redirect to=\"/login\" ></Redirect>\n    }\n}\nexport default GoogleApiWrapper({\n    apiKey: (googleApi.apiKey)\n})(NavigationRoutes)\n\n","import React, { Component } from 'react'\n\nexport default class ErrorHandler extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { error: null, errorInfo: null }\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        })\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            return (\n                <div>\n                    <h2>Something went wrong.</h2>\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.errorInfo.componentStack}\n                    </details>\n                </div>\n            );\n        }\n        return this.props.children;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport \"semantic-ui-css/semantic.min.css\"\nimport 'react-notifications/lib/notifications.css';\nimport './styles/index.scss';\nimport * as serviceWorker from './serviceWorker';\nimport { MainRoutes } from './routes';\nimport ErrorHandler from './components/ErrorHandler';\n\nReactDOM.render(\n    <ErrorHandler>\n        <BrowserRouter>\n            <MainRoutes />\n        </BrowserRouter>\n    </ErrorHandler>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}